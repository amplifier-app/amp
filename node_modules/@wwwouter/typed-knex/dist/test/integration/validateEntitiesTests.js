"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai_1 = require("chai");
const knex_1 = require("knex");
const validateEntities_1 = require("../../src/validateEntities");
describe("validateEntitiesTests", () => {
    it("should fail on empty database", async () => {
        const db = knex_1.knex({
            client: "sqlite3",
            useNullAsDefault: false,
            connection: { filename: ":memory:" },
        });
        try {
            await validateEntities_1.validateEntities(db);
            chai_1.assert.isFalse(true);
            // tslint:disable-next-line:no-empty
        }
        catch (_error) { }
        await db.destroy();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGVFbnRpdGllc1Rlc3RzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vdGVzdC9pbnRlZ3JhdGlvbi92YWxpZGF0ZUVudGl0aWVzVGVzdHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQkFBOEI7QUFDOUIsK0JBQTRCO0FBQzVCLGlFQUE4RDtBQUc5RCxRQUFRLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO0lBQ25DLEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxLQUFLLElBQUksRUFBRTtRQUMzQyxNQUFNLEVBQUUsR0FBRyxXQUFJLENBQUM7WUFDWixNQUFNLEVBQUUsU0FBUztZQUNqQixnQkFBZ0IsRUFBRSxLQUFLO1lBQ3ZCLFVBQVUsRUFBRSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUU7U0FDdkMsQ0FBQyxDQUFDO1FBRUgsSUFBSTtZQUNBLE1BQU0sbUNBQWdCLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDM0IsYUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyQixvQ0FBb0M7U0FDdkM7UUFBQyxPQUFPLE1BQU0sRUFBRSxHQUFFO1FBRW5CLE1BQU0sRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiY2hhaVwiO1xuaW1wb3J0IHsga25leCB9IGZyb20gXCJrbmV4XCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUVudGl0aWVzIH0gZnJvbSBcIi4uLy4uL3NyYy92YWxpZGF0ZUVudGl0aWVzXCI7XG5pbXBvcnQge30gZnJvbSBcIi4uL3Rlc3RFbnRpdGllc1wiO1xuXG5kZXNjcmliZShcInZhbGlkYXRlRW50aXRpZXNUZXN0c1wiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgZmFpbCBvbiBlbXB0eSBkYXRhYmFzZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRiID0ga25leCh7XG4gICAgICAgICAgICBjbGllbnQ6IFwic3FsaXRlM1wiLFxuICAgICAgICAgICAgdXNlTnVsbEFzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgICBjb25uZWN0aW9uOiB7IGZpbGVuYW1lOiBcIjptZW1vcnk6XCIgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlRW50aXRpZXMoZGIpO1xuICAgICAgICAgICAgYXNzZXJ0LmlzRmFsc2UodHJ1ZSk7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHlcbiAgICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7fVxuXG4gICAgICAgIGF3YWl0IGRiLmRlc3Ryb3koKTtcbiAgICB9KTtcbn0pO1xuIl19