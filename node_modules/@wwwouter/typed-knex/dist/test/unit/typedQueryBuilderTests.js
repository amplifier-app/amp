"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai_1 = require("chai");
const knex_1 = require("knex");
const src_1 = require("../../src");
const decorators_1 = require("../../src/decorators");
const typedKnex_1 = require("../../src/typedKnex");
const unflatten_1 = require("../../src/unflatten");
const testEntities_1 = require("../testEntities");
describe("TypedKnexQueryBuilder", () => {
    it('should return select * from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it('should return select "id" from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).select("id");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id" from "users"');
        done();
    });
    it("should return camelCase correctly", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).select("initialValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "userSettings"."initialValue" as "initialValue" from "userSettings"');
        done();
    });
    it("should create query with where on column of own table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).where("name", "user1");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'user1\'');
        done();
    });
    it("should create query with Date column", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).select("birthDate").where("birthDate", new Date(1979, 0, 1));
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."birthDate" as "birthDate" from "users" where "users"."birthDate" = \'1979-01-01 00:00:00.000\'');
        done();
    });
    it("should create query with array column", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).select("tags").where("tags", ["tag1"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."tags" as "tags" from "users" where "users"."tags" = \'{"tag1"}\'');
        done();
    });
    it("should create query with where on column of own table with LIKE", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).where("name", "like", "%user%");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" like \'%user%\'');
        done();
    });
    it("should handle nullable properties", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.query(testEntities_1.UserCategory).select("phoneNumber").where("phoneNumber", "user1").select("backupRegion.code").toQuery();
        done();
    });
    it("should handle nullable level 2 properties", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.query(testEntities_1.User).select("category.phoneNumber").where("category.phoneNumber", "user1");
        done();
    });
    it("should create query with where not on column of own table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereNot("name", "user1");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where not "users"."name" = \'user1\'');
        done();
    });
    it("should join a table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).innerJoinColumn("user");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "user" on "user"."id" = "userSettings"."userId"');
        done();
    });
    it("should join a table and select a column of joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).select("user.name").innerJoinColumn("user");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "user"."name" as "user.name" from "userSettings" inner join "users" as "user" on "user"."id" = "userSettings"."userId"');
        done();
    });
    it("should join a table and use where on a column of joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).where("user.name", "user1").innerJoinColumn("user");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "user" on "user"."id" = "userSettings"."userId" where "user"."name" = \'user1\'');
        done();
    });
    it("should join two level of tables", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).innerJoinColumn("user").innerJoinColumn("user.category");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "user" on "user"."id" = "userSettings"."userId" inner join "userCategories" as "user_category" on "user_category"."id" = "user"."categoryId"');
        done();
    });
    it("should join three level of tables", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).innerJoinColumn("user.category.region");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "regions" as "user_category_region" on "user_category_region"."id" = "user_category"."regionId"');
        done();
    });
    it("should join two levels of tables and select a column of the last joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).select("user.category.name").innerJoinColumn("user.category");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "user_category"."name" as "user.category.name" from "userSettings" inner join "userCategories" as "user_category" on "user_category"."id" = "user"."categoryId"');
        done();
    });
    it("should join three levels of tables and select a column of the last joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).select("user.category.region.code").innerJoinColumn("user.category.region");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "user_category_region"."code" as "user.category.region.code" from "userSettings" inner join "regions" as "user_category_region" on "user_category_region"."id" = "user_category"."regionId"');
        done();
    });
    it("should join two levels of tables and use where on a column of last joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).where("user.category.name", "user1").innerJoinColumn("user.category");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "userCategories" as "user_category" on "user_category"."id" = "user"."categoryId" where "user_category"."name" = \'user1\'');
        done();
    });
    it("should join three levels of tables and use where on a column of last joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).where("user.category.region.code", 2).innerJoinColumn("user.category.region");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "regions" as "user_category_region" on "user_category_region"."id" = "user_category"."regionId" where "user_category_region"."code" = 2');
        done();
    });
    it("should inner join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).innerJoinTableOnFunction("otherUser", testEntities_1.User, (join) => {
            join.on("id", "=", "user2Id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id"');
        done();
    });
    it("should inner join with function with other table and use order by on joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.UserSetting)
            .innerJoinTableOnFunction("otherUser", testEntities_1.User, (join) => {
            join.on("id", "=", "user2Id");
        })
            .orderBy("otherUser.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id" order by "otherUser"."name" asc');
        done();
    });
    it("should inner join with function with other tables and use order by on joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.UserSetting)
            .innerJoinTableOnFunction("otherUser", testEntities_1.User, (join) => {
            join.on("id", "=", "user2Id");
        })
            .innerJoinTableOnFunction("otherCategory", testEntities_1.UserCategory, (join) => {
            join.on("id", "=", "otherUser.categoryId");
        })
            .orderBy("otherCategory.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id" inner join "userCategories" as "otherCategory" on "otherUser"."categoryId" = "otherCategory"."id" order by "otherCategory"."name" asc');
        done();
    });
    it("should inner join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).innerJoin("otherUser", testEntities_1.User, "nickName", "=", "value");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "otherUser" on "otherUser"."nickName" = "userSettings"."value"');
        done();
    });
    it("should inner join with other table with name attribute", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).innerJoin("otherUser", testEntities_1.User, "status", "=", "otherValue").where("otherUser.status", "status1").where("otherValue", "other value");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" inner join "users" as "otherUser" on "otherUser"."weirdDatabaseName" = "userSettings"."other_value" where "otherUser"."weirdDatabaseName" = \'status1\' and "userSettings"."other_value" = \'other value\'');
        done();
    });
    it("should left outer join with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoin("otherUser", testEntities_1.User, "nickName", "=", "value");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "otherUser"."nickName" = "userSettings"."value"');
        done();
    });
    it("should left outer join with other table with name attribute", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoin("otherUser", testEntities_1.User, "status", "=", "otherValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "otherUser"."weirdDatabaseName" = "userSettings"."other_value"');
        done();
    });
    it("should left outer join with other tables", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.UserSetting)
            .leftOuterJoin("otherUser", testEntities_1.User, "status", "=", "otherValue")
            .leftOuterJoin("otherUser.otherOtherUser", testEntities_1.User, "status", "=", "otherUser.status")
            .select("otherUser.otherOtherUser.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "otherUser_otherOtherUser"."name" as "otherUser.otherOtherUser.name" from "userSettings" left outer join "users" as "otherUser" on "otherUser"."weirdDatabaseName" = "userSettings"."other_value" left outer join "users" as "otherUser_otherOtherUser" on "otherUser_otherOtherUser"."weirdDatabaseName" = "otherUser"."weirdDatabaseName"');
        done();
    });
    it("should select 2 columns at once", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).select("id", "name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id", "users"."name" as "name" from "users"');
        done();
    });
    it("should select 2 columns at once from parent", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).select("user.id", "user.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "user"."id" as "user.id", "user"."name" as "user.name" from "userSettings"');
        done();
    });
    it("should select raw query", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).selectRaw("subQuery", Number, "select other.id from other");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select (select other.id from other) as "subQuery" from "users"');
        done();
    });
    it("should create query with AND in where clause", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).where("name", "user1").andWhere("name", "user2").andWhere("name", "like", "%user%");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'user1\' and "users"."name" = \'user2\' and "users"."name" like \'%user%\'');
        done();
    });
    it("should create query with OR in where clause", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).where("name", "user1").orWhere("name", "user2").orWhere("name", "like", "%user%");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'user1\' or "users"."name" = \'user2\' or "users"."name" like \'%user%\'');
        done();
    });
    it("should create query with where in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereIn("name", ["user1", "user2"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" in (\'user1\', \'user2\')');
        done();
    });
    it("should create query with where not in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereNotIn("name", ["user1", "user2"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" not in (\'user1\', \'user2\')');
        done();
    });
    it("should create query with where between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereBetween("numericValue", [1, 10]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."numericValue" between 1 and 10');
        done();
    });
    it("should create query with where not between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereNotBetween("numericValue", [1, 10]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."numericValue" not between 1 and 10');
        done();
    });
    it("should create query with where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereExists(testEntities_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, `select * from "users" where exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")`);
        done();
    });
    it("should create query with where exists with column name mapping", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereExists(testEntities_1.UserSetting, (subQuery) => {
            subQuery.innerJoinColumn("user");
            subQuery.whereColumn("user.notUndefinedStatus", "=", "notUndefinedStatus");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, `select * from "users" where exists (select * from "userSettings" as "subquery0$userSettings" inner join "users" as "subquery0$user" on "subquery0$user"."id" = "subquery0$userSettings"."userId" where "subquery0$user"."weirdDatabaseName2" = "users"."weirdDatabaseName2")`);
        done();
    });
    it("should create query with or where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.User)
            .where("name", "name")
            .orWhereExists(testEntities_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'name\' or exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create query with where not exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereNotExists(testEntities_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where not exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create query with or where not exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.User)
            .where("name", "name")
            .orWhereNotExists(testEntities_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" = \'name\' or not exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create query with where raw", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereRaw("?? = ??", "users.id", "users.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."id" = "users"."name"');
        done();
    });
    it("should create query with group by", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).select("someValue").selectRaw("total", Number, 'SUM("numericValue")').groupBy("someValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."someValue" as "someValue", (SUM("numericValue")) as "total" from "users" group by "users"."someValue"');
        done();
    });
    it("should create query with having", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).having("numericValue", ">", 10);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" > 10');
        done();
    });
    it("should create query with having null", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingNull("numericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" is null');
        done();
    });
    it("should create query with having not null", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingNotNull("numericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" is not null');
        done();
    });
    it("should create query with having in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingIn("name", ["user1", "user2"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."name" in (\'user1\', \'user2\')');
        done();
    });
    it("should create query with having not in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingNotIn("name", ["user1", "user2"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."name" not in (\'user1\', \'user2\')');
        done();
    });
    it("should create query with having exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingExists(testEntities_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create query with having not exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingNotExists(testEntities_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having not exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create query with having raw", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingRaw("?? = ??", "users.id", "users.name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."id" = "users"."name"');
        done();
    });
    it("should create query with having between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingBetween("numericValue", [1, 10]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" between 1 and 10');
        done();
    });
    it("should create query with having not between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).havingNotBetween("numericValue", [1, 10]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" having "users"."numericValue" not between 1 and 10');
        done();
    });
    it("should create query with an union", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.User)
            .select("id")
            .union(testEntities_1.User, (subQuery) => {
            subQuery.select("id").where("numericValue", 12);
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id" from "users" union select "users"."id" as "id" from "users" where "users"."numericValue" = 12');
        done();
    });
    it("should create query with an union all", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.User)
            .select("id")
            .unionAll(testEntities_1.User, (subQuery) => {
            subQuery.select("id").where("numericValue", 12);
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "users"."id" as "id" from "users" union all select "users"."id" as "id" from "users" where "users"."numericValue" = 12');
        done();
    });
    it("should create query with min", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).min("numericValue", "minNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select min("users"."numericValue") as "minNumericValue" from "users"');
        done();
    });
    it("should create query with count", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).count("numericValue", "countNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select count("users"."numericValue") as "countNumericValue" from "users"');
        done();
    });
    it("should create query with countDistinct", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).countDistinct("numericValue", "countDistinctNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select count(distinct "users"."numericValue") as "countDistinctNumericValue" from "users"');
        done();
    });
    it("should create query with max", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).max("numericValue", "maxNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select max("users"."numericValue") as "maxNumericValue" from "users"');
        done();
    });
    it("should create query with two max", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).max("numericValue", "maxNumericValue").max("someValue", "maxSomeValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select max("users"."numericValue") as "maxNumericValue", max("users"."someValue") as "maxSomeValue" from "users"');
        done();
    });
    it("should create query with sum", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).sum("numericValue", "sumNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select sum("users"."numericValue") as "sumNumericValue" from "users"');
        done();
    });
    it("should create query with sumDistinct", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).sumDistinct("numericValue", "sumDistinctNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select sum(distinct "users"."numericValue") as "sumDistinctNumericValue" from "users"');
        done();
    });
    it("should create query with avg", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).avg("numericValue", "avgNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select avg("users"."numericValue") as "avgNumericValue" from "users"');
        done();
    });
    it("should create query with avgDistinct", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).avgDistinct("numericValue", "avgDistinctNumericValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select avg(distinct "users"."numericValue") as "avgDistinctNumericValue" from "users"');
        done();
    });
    it("should create query with order by", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).orderBy("id");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" order by "users"."id" asc');
        done();
    });
    it("should clear select", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).select("id").clearSelect();
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it("should clear where", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).where("name", "user1").clearWhere();
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it("should clear order", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).orderBy("id").clearOrder();
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it("should create query with distinct", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).select("id").distinct();
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select distinct "users"."id" as "id" from "users"');
        done();
    });
    it("should clone and adjust only the clone", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).select("id");
        const clonedQuery = query.clone();
        clonedQuery.select("name");
        chai_1.assert.equal(query.toQuery(), 'select "users"."id" as "id" from "users"');
        chai_1.assert.equal(clonedQuery.toQuery(), 'select "users"."id" as "id", "users"."name" as "name" from "users"');
        done();
    });
    it("should create query with groupby raw", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).groupByRaw("year WITH ROLLUP");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" group by year WITH ROLLUP');
        done();
    });
    it("should create query with or where in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereIn("name", ["user1", "user2"]).orWhereIn("name", ["user3", "user4"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" in (\'user1\', \'user2\') or "users"."name" in (\'user3\', \'user4\')');
        done();
    });
    it("should create query with or where not in", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereNotIn("name", ["user1", "user2"]).orWhereNotIn("name", ["user3", "user4"]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" not in (\'user1\', \'user2\') or "users"."name" not in (\'user3\', \'user4\')');
        done();
    });
    it("should create query with or where between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereBetween("numericValue", [1, 10]).orWhereBetween("numericValue", [100, 1000]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."numericValue" between 1 and 10 or "users"."numericValue" between 100 and 1000');
        done();
    });
    it("should create query with or where not between", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereNotBetween("numericValue", [1, 10]).orWhereNotBetween("numericValue", [100, 1000]);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."numericValue" not between 1 and 10 or "users"."numericValue" not between 100 and 1000');
        done();
    });
    it("should create query with parentheses in where", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.User)
            .whereParentheses((sub) => sub.where("id", "1").orWhere("id", "2"))
            .orWhere("name", "Tester");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where ("users"."id" = \'1\' or "users"."id" = \'2\') or "users"."name" = \'Tester\'');
        done();
    });
    it("should return metadata from Entities", (done) => {
        const entities = src_1.getEntities();
        chai_1.assert.equal(entities.length, 5);
        chai_1.assert.exists(entities.find((i) => i.tableName === "users"));
        chai_1.assert.exists(entities.find((i) => i.tableName === "correctTableName"));
        done();
    });
    it("should create query with where null", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereNull("name").orWhereNull("name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" is null or "users"."name" is null');
        done();
    });
    it("should create query with where not null", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereNotNull("name").orWhereNotNull("name");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "users"."name" is not null or "users"."name" is not null');
        done();
    });
    it("should left outer join a table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoinColumn("user");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "user" on "user"."id" = "userSettings"."userId"');
        done();
    });
    it("should return camelCase correctly", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).select("initialValue");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "userSettings"."initialValue" as "initialValue" from "userSettings"');
        done();
    });
    it("should left outer join with function with itself", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoinTableOnFunction("evilTwin", testEntities_1.UserSetting, (join) => {
            join.on("id", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "userSettings" as "evilTwin" on "userSettings"."id" = "evilTwin"."id"');
        done();
    });
    it("should left outer join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testEntities_1.User, (join) => {
            join.on("id", "=", "user2Id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id"');
        done();
    });
    it("should left outer join with function with other table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testEntities_1.User, (join) => {
            join.on("id", "=", "user2Id").onNull("name");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id" and "otherUser"."name" is null');
        done();
    });
    it("should left outer join with function with other table with on and on or on", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testEntities_1.User, (join) => {
            join.on("id", "=", "user2Id").andOn("name", "=", "user2Id").orOn("someValue", "=", "user2Id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "userSettings"."user2Id" = "otherUser"."id" and "userSettings"."user2Id" = "otherUser"."name" or "userSettings"."user2Id" = "otherUser"."someValue"');
        done();
    });
    it("should left outer join with function with other table with onVal", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoinTableOnFunction("otherUser", testEntities_1.User, (join) => {
            join.onVal("name", "=", "1").andOnVal("name", "=", "2").orOnVal("name", "=", "3");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "users" as "otherUser" on "otherUser"."name" = \'1\' and "otherUser"."name" = \'2\' or "otherUser"."name" = \'3\'');
        done();
    });
    it("should be able to use joined column in another leftOuterJoinTableOnFunction", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.UserSetting)
            .leftOuterJoinTableOnFunction("evilTwin", testEntities_1.UserSetting, (join) => {
            join.on("id", "=", "id");
        })
            .leftOuterJoinTableOnFunction("evilTwin2", testEntities_1.UserSetting, (join) => {
            join.on("id", "=", "evilTwin.id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "userSettings" as "evilTwin" on "userSettings"."id" = "evilTwin"."id" left outer join "userSettings" as "evilTwin2" on "evilTwin"."id" = "evilTwin2"."id"');
        done();
    });
    it("should left outer join with function with other table with an column alias", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserCategory).leftOuterJoinTableOnFunction("specialRegion", testEntities_1.Region, (join) => {
            join.on("id", "=", "specialRegionId");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userCategories" left outer join "regions" as "specialRegion" on "userCategories"."INTERNAL_NAME" = "specialRegion"."id"');
        done();
    });
    it('should return select * from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).limit(10);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" limit 10');
        done();
    });
    it('should return select * from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).offset(10);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" offset 10');
        done();
    });
    it('should return select * from "users"', (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User);
        query.useKnexQueryBuilder((queryBuilder) => queryBuilder.where("somethingelse", "value"));
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where "somethingelse" = \'value\'');
        done();
    });
    it("should removeNullObjects", (done) => {
        const result = {
            id: "id",
            "element.id": null,
            "element.category.id": null,
            "unit.category.id": null,
            "category.name": "cat name",
        };
        const flattened = unflatten_1.unflatten([result]);
        chai_1.assert.isNull(flattened[0].element.id);
        chai_1.assert.isNull(flattened[0].unit.category.id);
        chai_1.assert.equal(flattened[0].category.name, "cat name");
        const nulled = unflatten_1.setToNull(flattened);
        chai_1.assert.isNull(nulled[0].element);
        chai_1.assert.equal(nulled[0].category.name, "cat name");
        chai_1.assert.isNull(nulled[0].unit);
        done();
    });
    it("should return sub query in select", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.UserCategory)
            .select("id")
            .selectQuery("total", Number, testEntities_1.User, (subQuery) => {
            subQuery.count("id", "total").whereColumn("categoryId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "userCategories"."id" as "id", (select count("users"."id") as "total" from "users" where "users"."categoryId" = "userCategories"."id") as "total" from "userCategories"');
        done();
    });
    it("should left outer join with function with and in on", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.UserSetting).leftOuterJoinTableOnFunction("evilTwin", testEntities_1.UserSetting, (join) => {
            join.on("id", "=", "id");
            join.on("key", "=", "key");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "userSettings" left outer join "userSettings" as "evilTwin" on "userSettings"."id" = "evilTwin"."id" and "userSettings"."key" = "evilTwin"."key"');
        done();
    });
    it("should left outer join with function and selection of joined table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex
            .query(testEntities_1.UserSetting)
            .leftOuterJoinTableOnFunction("evilTwin", testEntities_1.UserSetting, (join) => {
            join.on("id", "=", "id");
        })
            .where("evilTwin.value", "value")
            .select("evilTwin.key");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select "evilTwin"."key" as "evilTwin.key" from "userSettings" left outer join "userSettings" as "evilTwin" on "userSettings"."id" = "evilTwin"."id" where "evilTwin"."value" = \'value\'');
        done();
    });
    it("should get name of the table", (done) => {
        const tableName = src_1.getTableName(testEntities_1.User);
        chai_1.assert.equal(tableName, "users");
        done();
    });
    it("should get name of the column", (done) => {
        const columnName = decorators_1.getColumnName(testEntities_1.User, "id");
        chai_1.assert.equal(columnName, "id");
        done();
    });
    it("should insert a select", async () => {
        const k = knex_1.knex({ client: "postgresql" });
        const typedKnex = new typedKnex_1.TypedKnex(k);
        const query = typedKnex.query(testEntities_1.User);
        try {
            await query.selectRaw("f", String, "'fixedValue'").select("name").distinct().whereNotNull("name").insertSelect(testEntities_1.UserSetting, "id", "initialValue");
        }
        catch (_e) {
            chai_1.assert.equal(query.toQuery(), `insert into "userSettings" ("userSettings"."id","userSettings"."initialValue") select distinct ('fixedValue') as "f", "users"."name" as "name" from "users" where "users"."name" is not null`);
        }
    });
    it("should create query with order by raw", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).orderByRaw("SUM(??) DESC", "users.year");
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" order by SUM("users"."year") DESC');
        done();
    });
    it("should create query with where in with subquery", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereExists(testEntities_1.UserSetting, (subQuery) => {
            subQuery.whereColumn("userId", "=", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users" where exists (select * from "userSettings" as "subquery0$userSettings" where "subquery0$userSettings"."userId" = "users"."id")');
        done();
    });
    it("should create insert query with returning all", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.insertItemWithReturning({ id: "newId" });
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId') returning *`);
    });
    it("should create insert query with returning 1 column", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.insertItemWithReturning({ id: "newId" }, ["status"]);
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId') returning "users"."weirdDatabaseName"`);
    });
    it("should create insert query with returning 2 column", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.insertItemWithReturning({ id: "newId" }, ["status", "id"]);
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId') returning "users"."weirdDatabaseName", "users"."id"`);
    });
    it("should create insert query", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.insertItem({ id: "newId" });
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId')`);
    });
    it("should create insert query with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.insertItem({ status: "newStatus" });
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("weirdDatabaseName") values ('newStatus')`);
    });
    it("should create multiple insert queries", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.insertItems([{ id: "newId1" }, { id: "newId2" }]);
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("id") values ('newId1'), ('newId2')`);
    });
    it("should create multiple insert queries with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.insertItems([{ status: "newStatus1" }, { status: "newStatus2" }]);
        chai_1.assert.equal(query.queryLog.trim(), `insert into "users" ("weirdDatabaseName") values ('newStatus1'), ('newStatus2')`);
    });
    it("should create update query", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.updateItem({ id: "newId" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "id" = 'newId'`);
    });
    it("should create update query with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.updateItem({ status: "newStatus" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "weirdDatabaseName" = 'newStatus'`);
    });
    it("should create update query by id", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.updateItemByPrimaryKey("userId", { name: "newName" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "name" = 'newName' where "id" = 'userId'`);
    });
    it("should create update query by id with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.updateItemByPrimaryKey("userId", { status: "newStatus" });
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "weirdDatabaseName" = 'newStatus' where "id" = 'userId'`);
    });
    it("should create multiple update queries by id", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.updateItemsByPrimaryKey([
            { primaryKeyValue: "userId1", data: { name: "newName1" } },
            { primaryKeyValue: "userId2", data: { name: "newName2" } },
        ]);
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "name" = 'newName1' where "id" = 'userId1';\nupdate "users" set "name" = 'newName2' where "id" = 'userId2';`);
    });
    it("should create multiple update queries by id with column name mapping", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.updateItemsByPrimaryKey([
            { primaryKeyValue: "userId1", data: { status: "newStatus1" } },
            { primaryKeyValue: "userId2", data: { status: "newStatus2" } },
        ]);
        chai_1.assert.equal(query.queryLog.trim(), `update "users" set "weirdDatabaseName" = 'newStatus1' where "id" = 'userId1';\nupdate "users" set "weirdDatabaseName" = 'newStatus2' where "id" = 'userId2';`);
    });
    it("should create findByPrimaryKey query", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.User);
        query.onlyLogQuery = true;
        await query.findByPrimaryKey("1", "id", "name");
        chai_1.assert.equal(query.queryLog.trim(), `select "users"."id" as "id", "users"."name" as "name" from "users" where "id" = '1'`);
    });
    it("should select * when querybuilder has no select specified", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User);
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, 'select * from "users"');
        done();
    });
    it("getMany should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getMany();
        chai_1.assert.equal(query.queryLog.trim(), `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`);
    });
    it("getFirst should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getFirst();
        chai_1.assert.equal(query.queryLog.trim(), `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`);
    });
    it("getFirstOrNull should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getFirstOrNull();
        chai_1.assert.equal(query.queryLog.trim(), `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`);
    });
    it("getSingle should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getSingle();
        chai_1.assert.equal(query.queryLog.trim(), `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`);
    });
    it("getSingleOrNull should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.UserCategory);
        query.onlyLogQuery = true;
        const a = await query.getSingleOrNull();
        console.log("a", a === null || a === void 0 ? void 0 : a.id);
        chai_1.assert.equal(query.queryLog.trim(), `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`);
    });
    it("should handle where exists on same table as main table", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereExists(testEntities_1.User, (subQuery) => {
            subQuery.whereColumn("status", "=", "status").whereColumn("id", "<>", "id");
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, `select * from "users" where exists (select * from "users" as "subquery0$users" where "subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and "subquery0$users"."id" <> "users"."id")`);
        done();
    });
    it("should handle two levels of where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User).whereExists(testEntities_1.User, (subQuery) => {
            subQuery.whereColumn("status", "=", "status").whereColumn("id", "<>", "id");
            subQuery.whereExists(testEntities_1.User, (subQuery2) => {
                subQuery2.whereColumn("status", "=", "status").whereColumn("id", "<>", "id");
            });
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, `select * from "users" where exists (select * from "users" as "subquery0$users" where "subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and "subquery0$users"."id" <> "users"."id" and exists (select * from "users" as "subquery0$subquery0$users" where "subquery0$subquery0$users"."weirdDatabaseName" = "subquery0$users"."weirdDatabaseName" and "subquery0$subquery0$users"."id" <> "subquery0$users"."id"))`);
        done();
    });
    it("getSingleOrNull should select all columns of root type with correct aliases", async () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        typedKnex.onlyLogQuery = true;
        const query = typedKnex.query(testEntities_1.UserCategory);
        query.onlyLogQuery = true;
        await query.getSingleOrNull();
        chai_1.assert.equal(query.queryLog.trim(), `select "id" as "id", "name" as "name", "regionId" as "region", "regionId" as "regionId", "year" as "year", "phoneNumber" as "phoneNumber", "backupRegionId" as "backupRegion", "INTERNAL_NAME" as "specialRegionId" from "userCategories"`);
    });
    it("should get correct column for nested queries", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        let nestedStatusColumnName;
        let nestedUserCategoryYear;
        const query = typedKnex.query(testEntities_1.User).whereExists(testEntities_1.User, (subQuery) => {
            subQuery.innerJoinColumn("category").select("category.id").select("status");
            nestedStatusColumnName = subQuery.getColumnAlias("status");
            nestedUserCategoryYear = subQuery.getColumnAlias("category.year");
        });
        query.toQuery();
        chai_1.assert.equal(nestedStatusColumnName, '"subquery0$users"."weirdDatabaseName"');
        chai_1.assert.equal(nestedUserCategoryYear, '"subquery0$category"."year"');
        done();
    });
    it("should be able to refer to main query in raw where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User);
        query.whereExists(testEntities_1.User, (subQuery) => {
            subQuery.whereColumn("status", "=", "status").whereColumn("id", "<>", "id").whereRaw(`EXISTS (SELECT 1 FROM users as users2 WHERE ${query.getColumnAlias("status")} = users2."weirdDatabaseName" AND ${query.getColumnAlias("id")} <> users2."id")
            `);
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, `select * from "users" where exists (select * from "users" as "subquery0$users" where "subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and "subquery0$users"."id" <> "users"."id" and EXISTS (SELECT 1 FROM users as users2 WHERE "users"."weirdDatabaseName" = users2."weirdDatabaseName" AND "users"."id" <> users2."id")
            )`);
        done();
    });
    it("should be able to refer to main query in where exists", (done) => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        const query = typedKnex.query(testEntities_1.User);
        query.whereExists(testEntities_1.User, (subQuery1) => {
            subQuery1.whereColumn("status", "=", "status"); // Compares subQuery1 with its parent (query)
            subQuery1.whereExists(testEntities_1.User, (subQuery2) => {
                subQuery2.whereColumn(subQuery2.getColumn("status"), "=", query.getColumn("status")); // Compares subQuery2 with the first parent (query)
                subQuery2.whereExists(testEntities_1.User, (subQuery3) => {
                    subQuery3.whereColumn(subQuery3.getColumn("status"), "=", subQuery1.getColumn("status")); // Compares subQuery3 with the second parent (subQuery1)
                });
            });
        });
        const queryString = query.toQuery();
        chai_1.assert.equal(queryString, `select * from "users" where exists (select * from "users" as "subquery0$users" where "subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and exists (select * from "users" as "subquery0$subquery0$users" where "subquery0$subquery0$users"."weirdDatabaseName" = "users"."weirdDatabaseName" and exists (select * from "users" as "subquery0$subquery0$subquery0$users" where "subquery0$subquery0$subquery0$users"."weirdDatabaseName" = "subquery0$users"."weirdDatabaseName")))`);
        done();
    });
    describe("getColumnAlias", () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        it("should return root column name", async () => {
            const query = typedKnex.query(testEntities_1.UserCategory);
            chai_1.assert.equal(query.getColumnAlias("id"), '"userCategories"."id"');
        });
        it("should return root column name with mapped name", async () => {
            const query = typedKnex.query(testEntities_1.UserCategory);
            chai_1.assert.equal(query.getColumnAlias("specialRegionId"), '"userCategories"."INTERNAL_NAME"');
        });
        it("should return named joined column name", async () => {
            const query = typedKnex.query(testEntities_1.UserCategory).innerJoin("user", testEntities_1.User, "categoryId", "=", "id");
            chai_1.assert.equal(query.getColumnAlias("user.id"), '"user"."id"');
        });
        it("should return named joined column name with mapped name", async () => {
            const query = typedKnex.query(testEntities_1.UserCategory).innerJoin("user", testEntities_1.User, "categoryId", "=", "id");
            chai_1.assert.equal(query.getColumnAlias("user.status"), '"user"."weirdDatabaseName"');
        });
        it("should return two levels joined column name", async () => {
            const query = typedKnex.query(testEntities_1.User).innerJoinColumn("category").innerJoinColumn("category.region");
            chai_1.assert.equal(query.getColumnAlias("category.region.code"), '"category_region"."code"');
        });
        it("should return select with alias", async () => {
            const query = typedKnex.query(testEntities_1.UserCategory);
            query.selectRaw("hash", String, `hashFunction(${query.getColumnAlias("name")})`).select("id");
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select (hashFunction("userCategories"."name")) as "hash", "userCategories"."id" as "id" from "userCategories"');
        });
    });
    describe("distinctOn", () => {
        const typedKnex = new typedKnex_1.TypedKnex(knex_1.knex({ client: "postgresql" }));
        it("should distinct on 1 column", (done) => {
            const query = typedKnex.query(testEntities_1.UserCategory).select("id").distinctOn(["name"]);
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select distinct on ("userCategories"."name") "userCategories"."id" as "id" from "userCategories"');
            done();
        });
        it("should distinct on 2 columns", (done) => {
            const query = typedKnex.query(testEntities_1.UserCategory).select("id").distinctOn(["name", "phoneNumber"]);
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select distinct on ("userCategories"."name", "userCategories"."phoneNumber") "userCategories"."id" as "id" from "userCategories"');
            done();
        });
        it("should distinct on 1 column with mapping", (done) => {
            const query = typedKnex.query(testEntities_1.UserCategory).select("id").distinctOn(["specialRegionId"]);
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select distinct on ("userCategories"."INTERNAL_NAME") "userCategories"."id" as "id" from "userCategories"');
            done();
        });
        it("should distinct on columns with join and with mapping", (done) => {
            const query = typedKnex.query(testEntities_1.User).innerJoin("category", testEntities_1.UserCategory, "id", "=", "categoryId").select("id").distinctOn(["name", "category.id", "category.specialRegionId"]);
            const queryString = query.toQuery();
            chai_1.assert.equal(queryString, 'select distinct on ("users"."name", "category"."id", "category"."INTERNAL_NAME") "users"."id" as "id" from "users" inner join "userCategories" as "category" on "category"."id" = "users"."categoryId"');
            done();
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZWRRdWVyeUJ1aWxkZXJUZXN0cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Rlc3QvdW5pdC90eXBlZFF1ZXJ5QnVpbGRlclRlc3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0JBQThCO0FBQzlCLCtCQUE0QjtBQUM1QixtQ0FBc0Q7QUFDdEQscURBQXFEO0FBQ3JELG1EQUFnRDtBQUNoRCxtREFBMkQ7QUFDM0Qsa0RBQTBFO0FBRTFFLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7SUFDbkMsRUFBRSxDQUFDLHFDQUFxQyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUU7UUFDL0MsTUFBTSxTQUFTLEdBQUcsSUFBSSxxQkFBUyxDQUFDLFdBQUksQ0FBQyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDaEUsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxtQkFBSSxDQUFDLENBQUM7UUFDcEMsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3BDLGFBQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLHVCQUF1QixDQUFDLENBQUM7UUFFbkQsSUFBSSxFQUFFLENBQUM7SUFDWCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyx3Q0FBd0MsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFO1FBQ2xELE1BQU0sU0FBUyxHQUFHLElBQUkscUJBQVMsQ0FBQyxXQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsbUJBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqRCxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDcEMsYUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFX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QUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1lBRXpGLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNwQyxhQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSwyR0FBMkcsQ0FBQyxDQUFDO1lBRXZJLElBQUksRUFBRSxDQUFDO1FBQ1gsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsdURBQXVELEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUNqRSxNQUFNLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLG1CQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLDJCQUFZLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxFQUFFLGFBQWEsRUFBRSwwQkFBMEIsQ0FBQyxDQUFDLENBQUM7WUFFOUssTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3BDLGFBQU0sQ0FBQyxLQUFLLENBQ1IsV0FBVyxFQUNYLHdNQUF3TSxDQUMzTSxDQUFDO1lBRUYsSUFBSSxFQUFFLENBQUM7UUFDWCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiY2hhaVwiO1xuaW1wb3J0IHsga25leCB9IGZyb20gXCJrbmV4XCI7XG5pbXBvcnQgeyBnZXRFbnRpdGllcywgZ2V0VGFibGVOYW1lIH0gZnJvbSBcIi4uLy4uL3NyY1wiO1xuaW1wb3J0IHsgZ2V0Q29sdW1uTmFtZSB9IGZyb20gXCIuLi8uLi9zcmMvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgVHlwZWRLbmV4IH0gZnJvbSBcIi4uLy4uL3NyYy90eXBlZEtuZXhcIjtcbmltcG9ydCB7IHNldFRvTnVsbCwgdW5mbGF0dGVuIH0gZnJvbSBcIi4uLy4uL3NyYy91bmZsYXR0ZW5cIjtcbmltcG9ydCB7IFJlZ2lvbiwgVXNlciwgVXNlckNhdGVnb3J5LCBVc2VyU2V0dGluZyB9IGZyb20gXCIuLi90ZXN0RW50aXRpZXNcIjtcblxuZGVzY3JpYmUoXCJUeXBlZEtuZXhRdWVyeUJ1aWxkZXJcIiwgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJywgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBzZWxlY3QgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiJywgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImlkXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGNhbWVsQ2FzZSBjb3JyZWN0bHlcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5zZWxlY3QoXCJpbml0aWFsVmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2VyU2V0dGluZ3NcIi5cImluaXRpYWxWYWx1ZVwiIGFzIFwiaW5pdGlhbFZhbHVlXCIgZnJvbSBcInVzZXJTZXR0aW5nc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgb24gY29sdW1uIG9mIG93biB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmUoXCJuYW1lXCIsIFwidXNlcjFcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiA9IFxcJ3VzZXIxXFwnJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggRGF0ZSBjb2x1bW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImJpcnRoRGF0ZVwiKS53aGVyZShcImJpcnRoRGF0ZVwiLCBuZXcgRGF0ZSgxOTc5LCAwLCAxKSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJzXCIuXCJiaXJ0aERhdGVcIiBhcyBcImJpcnRoRGF0ZVwiIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cImJpcnRoRGF0ZVwiID0gXFwnMTk3OS0wMS0wMSAwMDowMDowMC4wMDBcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBhcnJheSBjb2x1bW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcInRhZ3NcIikud2hlcmUoXCJ0YWdzXCIsIFtcInRhZzFcIl0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2Vyc1wiLlwidGFnc1wiIGFzIFwidGFnc1wiIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cInRhZ3NcIiA9IFxcJ3tcInRhZzFcIn1cXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBvbiBjb2x1bW4gb2Ygb3duIHRhYmxlIHdpdGggTElLRVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmUoXCJuYW1lXCIsIFwibGlrZVwiLCBcIiV1c2VyJVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibmFtZVwiIGxpa2UgXFwnJXVzZXIlXFwnJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIG51bGxhYmxlIHByb3BlcnRpZXNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpLnNlbGVjdChcInBob25lTnVtYmVyXCIpLndoZXJlKFwicGhvbmVOdW1iZXJcIiwgXCJ1c2VyMVwiKS5zZWxlY3QoXCJiYWNrdXBSZWdpb24uY29kZVwiKS50b1F1ZXJ5KCk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIG51bGxhYmxlIGxldmVsIDIgcHJvcGVydGllc1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImNhdGVnb3J5LnBob25lTnVtYmVyXCIpLndoZXJlKFwiY2F0ZWdvcnkucGhvbmVOdW1iZXJcIiwgXCJ1c2VyMVwiKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBub3Qgb24gY29sdW1uIG9mIG93biB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3QoXCJuYW1lXCIsIFwidXNlcjFcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIG5vdCBcInVzZXJzXCIuXCJuYW1lXCIgPSBcXCd1c2VyMVxcJycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGpvaW4gYSB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlclNldHRpbmcpLmlubmVySm9pbkNvbHVtbihcInVzZXJcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJzXCIgYXMgXCJ1c2VyXCIgb24gXCJ1c2VyXCIuXCJpZFwiID0gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgam9pbiBhIHRhYmxlIGFuZCBzZWxlY3QgYSBjb2x1bW4gb2Ygam9pbmVkIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuc2VsZWN0KFwidXNlci5uYW1lXCIpLmlubmVySm9pbkNvbHVtbihcInVzZXJcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2VyXCIuXCJuYW1lXCIgYXMgXCJ1c2VyLm5hbWVcIiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJzXCIgYXMgXCJ1c2VyXCIgb24gXCJ1c2VyXCIuXCJpZFwiID0gXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgam9pbiBhIHRhYmxlIGFuZCB1c2Ugd2hlcmUgb24gYSBjb2x1bW4gb2Ygam9pbmVkIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykud2hlcmUoXCJ1c2VyLm5hbWVcIiwgXCJ1c2VyMVwiKS5pbm5lckpvaW5Db2x1bW4oXCJ1c2VyXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwidXNlclwiIG9uIFwidXNlclwiLlwiaWRcIiA9IFwidXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIiB3aGVyZSBcInVzZXJcIi5cIm5hbWVcIiA9IFxcJ3VzZXIxXFwnJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgam9pbiB0d28gbGV2ZWwgb2YgdGFibGVzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuaW5uZXJKb2luQ29sdW1uKFwidXNlclwiKS5pbm5lckpvaW5Db2x1bW4oXCJ1c2VyLmNhdGVnb3J5XCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwidXNlclwiIG9uIFwidXNlclwiLlwiaWRcIiA9IFwidXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIiBpbm5lciBqb2luIFwidXNlckNhdGVnb3JpZXNcIiBhcyBcInVzZXJfY2F0ZWdvcnlcIiBvbiBcInVzZXJfY2F0ZWdvcnlcIi5cImlkXCIgPSBcInVzZXJcIi5cImNhdGVnb3J5SWRcIidcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBqb2luIHRocmVlIGxldmVsIG9mIHRhYmxlc1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlclNldHRpbmcpLmlubmVySm9pbkNvbHVtbihcInVzZXIuY2F0ZWdvcnkucmVnaW9uXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJyZWdpb25zXCIgYXMgXCJ1c2VyX2NhdGVnb3J5X3JlZ2lvblwiIG9uIFwidXNlcl9jYXRlZ29yeV9yZWdpb25cIi5cImlkXCIgPSBcInVzZXJfY2F0ZWdvcnlcIi5cInJlZ2lvbklkXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBqb2luIHR3byBsZXZlbHMgb2YgdGFibGVzIGFuZCBzZWxlY3QgYSBjb2x1bW4gb2YgdGhlIGxhc3Qgam9pbmVkIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuc2VsZWN0KFwidXNlci5jYXRlZ29yeS5uYW1lXCIpLmlubmVySm9pbkNvbHVtbihcInVzZXIuY2F0ZWdvcnlcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgXCJ1c2VyX2NhdGVnb3J5XCIuXCJuYW1lXCIgYXMgXCJ1c2VyLmNhdGVnb3J5Lm5hbWVcIiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJDYXRlZ29yaWVzXCIgYXMgXCJ1c2VyX2NhdGVnb3J5XCIgb24gXCJ1c2VyX2NhdGVnb3J5XCIuXCJpZFwiID0gXCJ1c2VyXCIuXCJjYXRlZ29yeUlkXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBqb2luIHRocmVlIGxldmVscyBvZiB0YWJsZXMgYW5kIHNlbGVjdCBhIGNvbHVtbiBvZiB0aGUgbGFzdCBqb2luZWQgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5zZWxlY3QoXCJ1c2VyLmNhdGVnb3J5LnJlZ2lvbi5jb2RlXCIpLmlubmVySm9pbkNvbHVtbihcInVzZXIuY2F0ZWdvcnkucmVnaW9uXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAnc2VsZWN0IFwidXNlcl9jYXRlZ29yeV9yZWdpb25cIi5cImNvZGVcIiBhcyBcInVzZXIuY2F0ZWdvcnkucmVnaW9uLmNvZGVcIiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInJlZ2lvbnNcIiBhcyBcInVzZXJfY2F0ZWdvcnlfcmVnaW9uXCIgb24gXCJ1c2VyX2NhdGVnb3J5X3JlZ2lvblwiLlwiaWRcIiA9IFwidXNlcl9jYXRlZ29yeVwiLlwicmVnaW9uSWRcIidcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBqb2luIHR3byBsZXZlbHMgb2YgdGFibGVzIGFuZCB1c2Ugd2hlcmUgb24gYSBjb2x1bW4gb2YgbGFzdCBqb2luZWQgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS53aGVyZShcInVzZXIuY2F0ZWdvcnkubmFtZVwiLCBcInVzZXIxXCIpLmlubmVySm9pbkNvbHVtbihcInVzZXIuY2F0ZWdvcnlcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJDYXRlZ29yaWVzXCIgYXMgXCJ1c2VyX2NhdGVnb3J5XCIgb24gXCJ1c2VyX2NhdGVnb3J5XCIuXCJpZFwiID0gXCJ1c2VyXCIuXCJjYXRlZ29yeUlkXCIgd2hlcmUgXCJ1c2VyX2NhdGVnb3J5XCIuXCJuYW1lXCIgPSBcXCd1c2VyMVxcJycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGpvaW4gdGhyZWUgbGV2ZWxzIG9mIHRhYmxlcyBhbmQgdXNlIHdoZXJlIG9uIGEgY29sdW1uIG9mIGxhc3Qgam9pbmVkIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykud2hlcmUoXCJ1c2VyLmNhdGVnb3J5LnJlZ2lvbi5jb2RlXCIsIDIpLmlubmVySm9pbkNvbHVtbihcInVzZXIuY2F0ZWdvcnkucmVnaW9uXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJyZWdpb25zXCIgYXMgXCJ1c2VyX2NhdGVnb3J5X3JlZ2lvblwiIG9uIFwidXNlcl9jYXRlZ29yeV9yZWdpb25cIi5cImlkXCIgPSBcInVzZXJfY2F0ZWdvcnlcIi5cInJlZ2lvbklkXCIgd2hlcmUgXCJ1c2VyX2NhdGVnb3J5X3JlZ2lvblwiLlwiY29kZVwiID0gMicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGlubmVyIGpvaW4gd2l0aCBmdW5jdGlvbiB3aXRoIG90aGVyIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuaW5uZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwib3RoZXJVc2VyXCIsIFVzZXIsIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwidXNlcjJJZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwidXNlclNldHRpbmdzXCIuXCJ1c2VyMklkXCIgPSBcIm90aGVyVXNlclwiLlwiaWRcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGlubmVyIGpvaW4gd2l0aCBmdW5jdGlvbiB3aXRoIG90aGVyIHRhYmxlIGFuZCB1c2Ugb3JkZXIgYnkgb24gam9pbmVkIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXJTZXR0aW5nKVxuICAgICAgICAgICAgLmlubmVySm9pblRhYmxlT25GdW5jdGlvbihcIm90aGVyVXNlclwiLCBVc2VyLCAoam9pbikgPT4ge1xuICAgICAgICAgICAgICAgIGpvaW4ub24oXCJpZFwiLCBcIj1cIiwgXCJ1c2VyMklkXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vcmRlckJ5KFwib3RoZXJVc2VyLm5hbWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwidXNlclNldHRpbmdzXCIuXCJ1c2VyMklkXCIgPSBcIm90aGVyVXNlclwiLlwiaWRcIiBvcmRlciBieSBcIm90aGVyVXNlclwiLlwibmFtZVwiIGFzYycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGlubmVyIGpvaW4gd2l0aCBmdW5jdGlvbiB3aXRoIG90aGVyIHRhYmxlcyBhbmQgdXNlIG9yZGVyIGJ5IG9uIGpvaW5lZCB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXhcbiAgICAgICAgICAgIC5xdWVyeShVc2VyU2V0dGluZylcbiAgICAgICAgICAgIC5pbm5lckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJvdGhlclVzZXJcIiwgVXNlciwgKGpvaW4pID0+IHtcbiAgICAgICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwidXNlcjJJZFwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuaW5uZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwib3RoZXJDYXRlZ29yeVwiLCBVc2VyQ2F0ZWdvcnksIChqb2luKSA9PiB7XG4gICAgICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcIm90aGVyVXNlci5jYXRlZ29yeUlkXCIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vcmRlckJ5KFwib3RoZXJDYXRlZ29yeS5uYW1lXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICAgICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgaW5uZXIgam9pbiBcInVzZXJzXCIgYXMgXCJvdGhlclVzZXJcIiBvbiBcInVzZXJTZXR0aW5nc1wiLlwidXNlcjJJZFwiID0gXCJvdGhlclVzZXJcIi5cImlkXCIgaW5uZXIgam9pbiBcInVzZXJDYXRlZ29yaWVzXCIgYXMgXCJvdGhlckNhdGVnb3J5XCIgb24gXCJvdGhlclVzZXJcIi5cImNhdGVnb3J5SWRcIiA9IFwib3RoZXJDYXRlZ29yeVwiLlwiaWRcIiBvcmRlciBieSBcIm90aGVyQ2F0ZWdvcnlcIi5cIm5hbWVcIiBhc2MnXG4gICAgICAgICk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5uZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5pbm5lckpvaW4oXCJvdGhlclVzZXJcIiwgVXNlciwgXCJuaWNrTmFtZVwiLCBcIj1cIiwgXCJ2YWx1ZVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJvdGhlclVzZXJcIi5cIm5pY2tOYW1lXCIgPSBcInVzZXJTZXR0aW5nc1wiLlwidmFsdWVcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGlubmVyIGpvaW4gd2l0aCBvdGhlciB0YWJsZSB3aXRoIG5hbWUgYXR0cmlidXRlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuaW5uZXJKb2luKFwib3RoZXJVc2VyXCIsIFVzZXIsIFwic3RhdHVzXCIsIFwiPVwiLCBcIm90aGVyVmFsdWVcIikud2hlcmUoXCJvdGhlclVzZXIuc3RhdHVzXCIsIFwic3RhdHVzMVwiKS53aGVyZShcIm90aGVyVmFsdWVcIiwgXCJvdGhlciB2YWx1ZVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGlubmVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJvdGhlclVzZXJcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgPSBcInVzZXJTZXR0aW5nc1wiLlwib3RoZXJfdmFsdWVcIiB3aGVyZSBcIm90aGVyVXNlclwiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFxcJ3N0YXR1czFcXCcgYW5kIFwidXNlclNldHRpbmdzXCIuXCJvdGhlcl92YWx1ZVwiID0gXFwnb3RoZXIgdmFsdWVcXCcnXG4gICAgICAgICk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIHdpdGggb3RoZXIgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luKFwib3RoZXJVc2VyXCIsIFVzZXIsIFwibmlja05hbWVcIiwgXCI9XCIsIFwidmFsdWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJvdGhlclVzZXJcIi5cIm5pY2tOYW1lXCIgPSBcInVzZXJTZXR0aW5nc1wiLlwidmFsdWVcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIG90aGVyIHRhYmxlIHdpdGggbmFtZSBhdHRyaWJ1dGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luKFwib3RoZXJVc2VyXCIsIFVzZXIsIFwic3RhdHVzXCIsIFwiPVwiLCBcIm90aGVyVmFsdWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJvdGhlclVzZXJcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgPSBcInVzZXJTZXR0aW5nc1wiLlwib3RoZXJfdmFsdWVcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIG90aGVyIHRhYmxlc1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXhcbiAgICAgICAgICAgIC5xdWVyeShVc2VyU2V0dGluZylcbiAgICAgICAgICAgIC5sZWZ0T3V0ZXJKb2luKFwib3RoZXJVc2VyXCIsIFVzZXIsIFwic3RhdHVzXCIsIFwiPVwiLCBcIm90aGVyVmFsdWVcIilcbiAgICAgICAgICAgIC5sZWZ0T3V0ZXJKb2luKFwib3RoZXJVc2VyLm90aGVyT3RoZXJVc2VyXCIsIFVzZXIsIFwic3RhdHVzXCIsIFwiPVwiLCBcIm90aGVyVXNlci5zdGF0dXNcIilcbiAgICAgICAgICAgIC5zZWxlY3QoXCJvdGhlclVzZXIub3RoZXJPdGhlclVzZXIubmFtZVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAnc2VsZWN0IFwib3RoZXJVc2VyX290aGVyT3RoZXJVc2VyXCIuXCJuYW1lXCIgYXMgXCJvdGhlclVzZXIub3RoZXJPdGhlclVzZXIubmFtZVwiIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyXCIgb24gXCJvdGhlclVzZXJcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgPSBcInVzZXJTZXR0aW5nc1wiLlwib3RoZXJfdmFsdWVcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwib3RoZXJVc2VyX290aGVyT3RoZXJVc2VyXCIgb24gXCJvdGhlclVzZXJfb3RoZXJPdGhlclVzZXJcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgPSBcIm90aGVyVXNlclwiLlwid2VpcmREYXRhYmFzZU5hbWVcIidcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBzZWxlY3QgMiBjb2x1bW5zIGF0IG9uY2VcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImlkXCIsIFwibmFtZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiwgXCJ1c2Vyc1wiLlwibmFtZVwiIGFzIFwibmFtZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgc2VsZWN0IDIgY29sdW1ucyBhdCBvbmNlIGZyb20gcGFyZW50XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuc2VsZWN0KFwidXNlci5pZFwiLCBcInVzZXIubmFtZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJcIi5cImlkXCIgYXMgXCJ1c2VyLmlkXCIsIFwidXNlclwiLlwibmFtZVwiIGFzIFwidXNlci5uYW1lXCIgZnJvbSBcInVzZXJTZXR0aW5nc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgc2VsZWN0IHJhdyBxdWVyeVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuc2VsZWN0UmF3KFwic3ViUXVlcnlcIiwgTnVtYmVyLCBcInNlbGVjdCBvdGhlci5pZCBmcm9tIG90aGVyXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IChzZWxlY3Qgb3RoZXIuaWQgZnJvbSBvdGhlcikgYXMgXCJzdWJRdWVyeVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggQU5EIGluIHdoZXJlIGNsYXVzZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmUoXCJuYW1lXCIsIFwidXNlcjFcIikuYW5kV2hlcmUoXCJuYW1lXCIsIFwidXNlcjJcIikuYW5kV2hlcmUoXCJuYW1lXCIsIFwibGlrZVwiLCBcIiV1c2VyJVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibmFtZVwiID0gXFwndXNlcjFcXCcgYW5kIFwidXNlcnNcIi5cIm5hbWVcIiA9IFxcJ3VzZXIyXFwnIGFuZCBcInVzZXJzXCIuXCJuYW1lXCIgbGlrZSBcXCcldXNlciVcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBPUiBpbiB3aGVyZSBjbGF1c2VcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlKFwibmFtZVwiLCBcInVzZXIxXCIpLm9yV2hlcmUoXCJuYW1lXCIsIFwidXNlcjJcIikub3JXaGVyZShcIm5hbWVcIiwgXCJsaWtlXCIsIFwiJXVzZXIlXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJuYW1lXCIgPSBcXCd1c2VyMVxcJyBvciBcInVzZXJzXCIuXCJuYW1lXCIgPSBcXCd1c2VyMlxcJyBvciBcInVzZXJzXCIuXCJuYW1lXCIgbGlrZSBcXCcldXNlciVcXCcnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBpblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVJbihcIm5hbWVcIiwgW1widXNlcjFcIiwgXCJ1c2VyMlwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBpbiAoXFwndXNlcjFcXCcsIFxcJ3VzZXIyXFwnKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIHdoZXJlIG5vdCBpblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3RJbihcIm5hbWVcIiwgW1widXNlcjFcIiwgXCJ1c2VyMlwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBub3QgaW4gKFxcJ3VzZXIxXFwnLCBcXCd1c2VyMlxcJyknKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBiZXR3ZWVuXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS53aGVyZUJldHdlZW4oXCJudW1lcmljVmFsdWVcIiwgWzEsIDEwXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiIGJldHdlZW4gMSBhbmQgMTAnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBub3QgYmV0d2VlblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3RCZXR3ZWVuKFwibnVtZXJpY1ZhbHVlXCIsIFsxLCAxMF0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIiBub3QgYmV0d2VlbiAxIGFuZCAxMCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIHdoZXJlIGV4aXN0c1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVFeGlzdHMoVXNlclNldHRpbmcsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJ1c2VySWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsIGBzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBleGlzdHMgKHNlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBhcyBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIiB3aGVyZSBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiID0gXCJ1c2Vyc1wiLlwiaWRcIilgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBleGlzdHMgd2l0aCBjb2x1bW4gbmFtZSBtYXBwaW5nXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS53aGVyZUV4aXN0cyhVc2VyU2V0dGluZywgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS5pbm5lckpvaW5Db2x1bW4oXCJ1c2VyXCIpO1xuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJ1c2VyLm5vdFVuZGVmaW5lZFN0YXR1c1wiLCBcIj1cIiwgXCJub3RVbmRlZmluZWRTdGF0dXNcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICAgIGBzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBleGlzdHMgKHNlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBhcyBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIiBpbm5lciBqb2luIFwidXNlcnNcIiBhcyBcInN1YnF1ZXJ5MCR1c2VyXCIgb24gXCJzdWJxdWVyeTAkdXNlclwiLlwiaWRcIiA9IFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiLlwidXNlcklkXCIgd2hlcmUgXCJzdWJxdWVyeTAkdXNlclwiLlwid2VpcmREYXRhYmFzZU5hbWUyXCIgPSBcInVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZTJcIilgXG4gICAgICAgICk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggb3Igd2hlcmUgZXhpc3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXIpXG4gICAgICAgICAgICAud2hlcmUoXCJuYW1lXCIsIFwibmFtZVwiKVxuICAgICAgICAgICAgLm9yV2hlcmVFeGlzdHMoVXNlclNldHRpbmcsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1YlF1ZXJ5LndoZXJlQ29sdW1uKFwidXNlcklkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiA9IFxcJ25hbWVcXCcgb3IgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgYXMgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIgd2hlcmUgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIiA9IFwidXNlcnNcIi5cImlkXCIpJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgbm90IGV4aXN0c1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3RFeGlzdHMoVXNlclNldHRpbmcsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJ1c2VySWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBub3QgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgYXMgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIgd2hlcmUgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIiA9IFwidXNlcnNcIi5cImlkXCIpJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggb3Igd2hlcmUgbm90IGV4aXN0c1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXhcbiAgICAgICAgICAgIC5xdWVyeShVc2VyKVxuICAgICAgICAgICAgLndoZXJlKFwibmFtZVwiLCBcIm5hbWVcIilcbiAgICAgICAgICAgIC5vcldoZXJlTm90RXhpc3RzKFVzZXJTZXR0aW5nLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJRdWVyeS53aGVyZUNvbHVtbihcInVzZXJJZFwiLCBcIj1cIiwgXCJpZFwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJuYW1lXCIgPSBcXCduYW1lXFwnIG9yIG5vdCBleGlzdHMgKHNlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBhcyBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIiB3aGVyZSBcInN1YnF1ZXJ5MCR1c2VyU2V0dGluZ3NcIi5cInVzZXJJZFwiID0gXCJ1c2Vyc1wiLlwiaWRcIiknKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSByYXdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlUmF3KFwiPz8gPSA/P1wiLCBcInVzZXJzLmlkXCIsIFwidXNlcnMubmFtZVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwiaWRcIiA9IFwidXNlcnNcIi5cIm5hbWVcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGdyb3VwIGJ5XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5zZWxlY3QoXCJzb21lVmFsdWVcIikuc2VsZWN0UmF3KFwidG90YWxcIiwgTnVtYmVyLCAnU1VNKFwibnVtZXJpY1ZhbHVlXCIpJykuZ3JvdXBCeShcInNvbWVWYWx1ZVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IFwidXNlcnNcIi5cInNvbWVWYWx1ZVwiIGFzIFwic29tZVZhbHVlXCIsIChTVU0oXCJudW1lcmljVmFsdWVcIikpIGFzIFwidG90YWxcIiBmcm9tIFwidXNlcnNcIiBncm91cCBieSBcInVzZXJzXCIuXCJzb21lVmFsdWVcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGhhdmluZ1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuaGF2aW5nKFwibnVtZXJpY1ZhbHVlXCIsIFwiPlwiLCAxMCk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGhhdmluZyBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIiA+IDEwJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggaGF2aW5nIG51bGxcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmhhdmluZ051bGwoXCJudW1lcmljVmFsdWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGhhdmluZyBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIiBpcyBudWxsJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggaGF2aW5nIG5vdCBudWxsXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5oYXZpbmdOb3ROdWxsKFwibnVtZXJpY1ZhbHVlXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBoYXZpbmcgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgaXMgbm90IG51bGwnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBoYXZpbmcgaW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmhhdmluZ0luKFwibmFtZVwiLCBbXCJ1c2VyMVwiLCBcInVzZXIyXCJdKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgaGF2aW5nIFwidXNlcnNcIi5cIm5hbWVcIiBpbiAoXFwndXNlcjFcXCcsIFxcJ3VzZXIyXFwnKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGhhdmluZyBub3QgaW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmhhdmluZ05vdEluKFwibmFtZVwiLCBbXCJ1c2VyMVwiLCBcInVzZXIyXCJdKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgaGF2aW5nIFwidXNlcnNcIi5cIm5hbWVcIiBub3QgaW4gKFxcJ3VzZXIxXFwnLCBcXCd1c2VyMlxcJyknKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBoYXZpbmcgZXhpc3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5oYXZpbmdFeGlzdHMoVXNlclNldHRpbmcsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJ1c2VySWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBoYXZpbmcgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgYXMgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIgd2hlcmUgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIiA9IFwidXNlcnNcIi5cImlkXCIpJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggaGF2aW5nIG5vdCBleGlzdHNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmhhdmluZ05vdEV4aXN0cyhVc2VyU2V0dGluZywgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS53aGVyZUNvbHVtbihcInVzZXJJZFwiLCBcIj1cIiwgXCJpZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGhhdmluZyBub3QgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgYXMgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIgd2hlcmUgXCJzdWJxdWVyeTAkdXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIiA9IFwidXNlcnNcIi5cImlkXCIpJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggaGF2aW5nIHJhd1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuaGF2aW5nUmF3KFwiPz8gPSA/P1wiLCBcInVzZXJzLmlkXCIsIFwidXNlcnMubmFtZVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgaGF2aW5nIFwidXNlcnNcIi5cImlkXCIgPSBcInVzZXJzXCIuXCJuYW1lXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBoYXZpbmcgYmV0d2VlblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuaGF2aW5nQmV0d2VlbihcIm51bWVyaWNWYWx1ZVwiLCBbMSwgMTBdKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgaGF2aW5nIFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiIGJldHdlZW4gMSBhbmQgMTAnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBoYXZpbmcgbm90IGJldHdlZW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmhhdmluZ05vdEJldHdlZW4oXCJudW1lcmljVmFsdWVcIiwgWzEsIDEwXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIGhhdmluZyBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIiBub3QgYmV0d2VlbiAxIGFuZCAxMCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGFuIHVuaW9uXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXIpXG4gICAgICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgICAgIC51bmlvbihVc2VyLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJRdWVyeS5zZWxlY3QoXCJpZFwiKS53aGVyZShcIm51bWVyaWNWYWx1ZVwiLCAxMik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiIHVuaW9uIHNlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIiA9IDEyJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggYW4gdW5pb24gYWxsXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXIpXG4gICAgICAgICAgICAuc2VsZWN0KFwiaWRcIilcbiAgICAgICAgICAgIC51bmlvbkFsbChVc2VyLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJRdWVyeS5zZWxlY3QoXCJpZFwiKS53aGVyZShcIm51bWVyaWNWYWx1ZVwiLCAxMik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiIHVuaW9uIGFsbCBzZWxlY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgPSAxMicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG1pblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikubWluKFwibnVtZXJpY1ZhbHVlXCIsIFwibWluTnVtZXJpY1ZhbHVlXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IG1pbihcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIikgYXMgXCJtaW5OdW1lcmljVmFsdWVcIiBmcm9tIFwidXNlcnNcIicpO1xuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBjb3VudFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuY291bnQoXCJudW1lcmljVmFsdWVcIiwgXCJjb3VudE51bWVyaWNWYWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBjb3VudChcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIikgYXMgXCJjb3VudE51bWVyaWNWYWx1ZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGNvdW50RGlzdGluY3RcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmNvdW50RGlzdGluY3QoXCJudW1lcmljVmFsdWVcIiwgXCJjb3VudERpc3RpbmN0TnVtZXJpY1ZhbHVlXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IGNvdW50KGRpc3RpbmN0IFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiKSBhcyBcImNvdW50RGlzdGluY3ROdW1lcmljVmFsdWVcIiBmcm9tIFwidXNlcnNcIicpO1xuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBtYXhcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLm1heChcIm51bWVyaWNWYWx1ZVwiLCBcIm1heE51bWVyaWNWYWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBtYXgoXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIpIGFzIFwibWF4TnVtZXJpY1ZhbHVlXCIgZnJvbSBcInVzZXJzXCInKTtcbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggdHdvIG1heFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikubWF4KFwibnVtZXJpY1ZhbHVlXCIsIFwibWF4TnVtZXJpY1ZhbHVlXCIpLm1heChcInNvbWVWYWx1ZVwiLCBcIm1heFNvbWVWYWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBtYXgoXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIpIGFzIFwibWF4TnVtZXJpY1ZhbHVlXCIsIG1heChcInVzZXJzXCIuXCJzb21lVmFsdWVcIikgYXMgXCJtYXhTb21lVmFsdWVcIiBmcm9tIFwidXNlcnNcIicpO1xuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBzdW1cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnN1bShcIm51bWVyaWNWYWx1ZVwiLCBcInN1bU51bWVyaWNWYWx1ZVwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBzdW0oXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIpIGFzIFwic3VtTnVtZXJpY1ZhbHVlXCIgZnJvbSBcInVzZXJzXCInKTtcbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggc3VtRGlzdGluY3RcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnN1bURpc3RpbmN0KFwibnVtZXJpY1ZhbHVlXCIsIFwic3VtRGlzdGluY3ROdW1lcmljVmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3Qgc3VtKGRpc3RpbmN0IFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiKSBhcyBcInN1bURpc3RpbmN0TnVtZXJpY1ZhbHVlXCIgZnJvbSBcInVzZXJzXCInKTtcbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggYXZnXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5hdmcoXCJudW1lcmljVmFsdWVcIiwgXCJhdmdOdW1lcmljVmFsdWVcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgYXZnKFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiKSBhcyBcImF2Z051bWVyaWNWYWx1ZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIGF2Z0Rpc3RpbmN0XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5hdmdEaXN0aW5jdChcIm51bWVyaWNWYWx1ZVwiLCBcImF2Z0Rpc3RpbmN0TnVtZXJpY1ZhbHVlXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IGF2ZyhkaXN0aW5jdCBcInVzZXJzXCIuXCJudW1lcmljVmFsdWVcIikgYXMgXCJhdmdEaXN0aW5jdE51bWVyaWNWYWx1ZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG9yZGVyIGJ5XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5vcmRlckJ5KFwiaWRcIik7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBvcmRlciBieSBcInVzZXJzXCIuXCJpZFwiIGFzYycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNsZWFyIHNlbGVjdFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikuc2VsZWN0KFwiaWRcIikuY2xlYXJTZWxlY3QoKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY2xlYXIgd2hlcmVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlKFwibmFtZVwiLCBcInVzZXIxXCIpLmNsZWFyV2hlcmUoKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjbGVhciBvcmRlclwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikub3JkZXJCeShcImlkXCIpLmNsZWFyT3JkZXIoKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggZGlzdGluY3RcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImlkXCIpLmRpc3RpbmN0KCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgZGlzdGluY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJzXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjbG9uZSBhbmQgYWRqdXN0IG9ubHkgdGhlIGNsb25lXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLnNlbGVjdChcImlkXCIpO1xuXG4gICAgICAgIGNvbnN0IGNsb25lZFF1ZXJ5ID0gcXVlcnkuY2xvbmUoKTtcblxuICAgICAgICBjbG9uZWRRdWVyeS5zZWxlY3QoXCJuYW1lXCIpO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeS50b1F1ZXJ5KCksICdzZWxlY3QgXCJ1c2Vyc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJzXCInKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNsb25lZFF1ZXJ5LnRvUXVlcnkoKSwgJ3NlbGVjdCBcInVzZXJzXCIuXCJpZFwiIGFzIFwiaWRcIiwgXCJ1c2Vyc1wiLlwibmFtZVwiIGFzIFwibmFtZVwiIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggZ3JvdXBieSByYXdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmdyb3VwQnlSYXcoXCJ5ZWFyIFdJVEggUk9MTFVQXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBncm91cCBieSB5ZWFyIFdJVEggUk9MTFVQJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggb3Igd2hlcmUgaW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlSW4oXCJuYW1lXCIsIFtcInVzZXIxXCIsIFwidXNlcjJcIl0pLm9yV2hlcmVJbihcIm5hbWVcIiwgW1widXNlcjNcIiwgXCJ1c2VyNFwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBpbiAoXFwndXNlcjFcXCcsIFxcJ3VzZXIyXFwnKSBvciBcInVzZXJzXCIuXCJuYW1lXCIgaW4gKFxcJ3VzZXIzXFwnLCBcXCd1c2VyNFxcJyknKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBvciB3aGVyZSBub3QgaW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlTm90SW4oXCJuYW1lXCIsIFtcInVzZXIxXCIsIFwidXNlcjJcIl0pLm9yV2hlcmVOb3RJbihcIm5hbWVcIiwgW1widXNlcjNcIiwgXCJ1c2VyNFwiXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBub3QgaW4gKFxcJ3VzZXIxXFwnLCBcXCd1c2VyMlxcJykgb3IgXCJ1c2Vyc1wiLlwibmFtZVwiIG5vdCBpbiAoXFwndXNlcjNcXCcsIFxcJ3VzZXI0XFwnKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG9yIHdoZXJlIGJldHdlZW5cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlQmV0d2VlbihcIm51bWVyaWNWYWx1ZVwiLCBbMSwgMTBdKS5vcldoZXJlQmV0d2VlbihcIm51bWVyaWNWYWx1ZVwiLCBbMTAwLCAxMDAwXSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm51bWVyaWNWYWx1ZVwiIGJldHdlZW4gMSBhbmQgMTAgb3IgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgYmV0d2VlbiAxMDAgYW5kIDEwMDAnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCBvciB3aGVyZSBub3QgYmV0d2VlblwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOb3RCZXR3ZWVuKFwibnVtZXJpY1ZhbHVlXCIsIFsxLCAxMF0pLm9yV2hlcmVOb3RCZXR3ZWVuKFwibnVtZXJpY1ZhbHVlXCIsIFsxMDAsIDEwMDBdKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgbm90IGJldHdlZW4gMSBhbmQgMTAgb3IgXCJ1c2Vyc1wiLlwibnVtZXJpY1ZhbHVlXCIgbm90IGJldHdlZW4gMTAwIGFuZCAxMDAwJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggcGFyZW50aGVzZXMgaW4gd2hlcmVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4XG4gICAgICAgICAgICAucXVlcnkoVXNlcilcbiAgICAgICAgICAgIC53aGVyZVBhcmVudGhlc2VzKChzdWIpID0+IHN1Yi53aGVyZShcImlkXCIsIFwiMVwiKS5vcldoZXJlKFwiaWRcIiwgXCIyXCIpKVxuICAgICAgICAgICAgLm9yV2hlcmUoXCJuYW1lXCIsIFwiVGVzdGVyXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSAoXCJ1c2Vyc1wiLlwiaWRcIiA9IFxcJzFcXCcgb3IgXCJ1c2Vyc1wiLlwiaWRcIiA9IFxcJzJcXCcpIG9yIFwidXNlcnNcIi5cIm5hbWVcIiA9IFxcJ1Rlc3RlclxcJycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJldHVybiBtZXRhZGF0YSBmcm9tIEVudGl0aWVzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IGVudGl0aWVzID0gZ2V0RW50aXRpZXMoKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoZW50aXRpZXMubGVuZ3RoLCA1KTtcbiAgICAgICAgYXNzZXJ0LmV4aXN0cyhlbnRpdGllcy5maW5kKChpKSA9PiBpLnRhYmxlTmFtZSA9PT0gXCJ1c2Vyc1wiKSk7XG4gICAgICAgIGFzc2VydC5leGlzdHMoZW50aXRpZXMuZmluZCgoaSkgPT4gaS50YWJsZU5hbWUgPT09IFwiY29ycmVjdFRhYmxlTmFtZVwiKSk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgbnVsbFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVOdWxsKFwibmFtZVwiKS5vcldoZXJlTnVsbChcIm5hbWVcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBpcyBudWxsIG9yIFwidXNlcnNcIi5cIm5hbWVcIiBpcyBudWxsJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHF1ZXJ5IHdpdGggd2hlcmUgbm90IG51bGxcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlTm90TnVsbChcIm5hbWVcIikub3JXaGVyZU5vdE51bGwoXCJuYW1lXCIpO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiB3aGVyZSBcInVzZXJzXCIuXCJuYW1lXCIgaXMgbm90IG51bGwgb3IgXCJ1c2Vyc1wiLlwibmFtZVwiIGlzIG5vdCBudWxsJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIGEgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luQ29sdW1uKFwidXNlclwiKTtcbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2Vyc1wiIGFzIFwidXNlclwiIG9uIFwidXNlclwiLlwiaWRcIiA9IFwidXNlclNldHRpbmdzXCIuXCJ1c2VySWRcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJldHVybiBjYW1lbENhc2UgY29ycmVjdGx5XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykuc2VsZWN0KFwiaW5pdGlhbFZhbHVlXCIpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IFwidXNlclNldHRpbmdzXCIuXCJpbml0aWFsVmFsdWVcIiBhcyBcImluaXRpYWxWYWx1ZVwiIGZyb20gXCJ1c2VyU2V0dGluZ3NcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggaXRzZWxmXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykubGVmdE91dGVySm9pblRhYmxlT25GdW5jdGlvbihcImV2aWxUd2luXCIsIFVzZXJTZXR0aW5nLCAoam9pbikgPT4ge1xuICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGxlZnQgb3V0ZXIgam9pbiBcInVzZXJTZXR0aW5nc1wiIGFzIFwiZXZpbFR3aW5cIiBvbiBcInVzZXJTZXR0aW5nc1wiLlwiaWRcIiA9IFwiZXZpbFR3aW5cIi5cImlkXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBsZWZ0IG91dGVyIGpvaW4gd2l0aCBmdW5jdGlvbiB3aXRoIG90aGVyIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyU2V0dGluZykubGVmdE91dGVySm9pblRhYmxlT25GdW5jdGlvbihcIm90aGVyVXNlclwiLCBVc2VyLCAoam9pbikgPT4ge1xuICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcInVzZXIySWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgbGVmdCBvdXRlciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwidXNlclNldHRpbmdzXCIuXCJ1c2VyMklkXCIgPSBcIm90aGVyVXNlclwiLlwiaWRcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwib3RoZXJVc2VyXCIsIFVzZXIsIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwidXNlcjJJZFwiKS5vbk51bGwoXCJuYW1lXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGxlZnQgb3V0ZXIgam9pbiBcInVzZXJzXCIgYXMgXCJvdGhlclVzZXJcIiBvbiBcInVzZXJTZXR0aW5nc1wiLlwidXNlcjJJZFwiID0gXCJvdGhlclVzZXJcIi5cImlkXCIgYW5kIFwib3RoZXJVc2VyXCIuXCJuYW1lXCIgaXMgbnVsbCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGUgd2l0aCBvbiBhbmQgb24gb3Igb25cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwib3RoZXJVc2VyXCIsIFVzZXIsIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwidXNlcjJJZFwiKS5hbmRPbihcIm5hbWVcIiwgXCI9XCIsIFwidXNlcjJJZFwiKS5vck9uKFwic29tZVZhbHVlXCIsIFwiPVwiLCBcInVzZXIySWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICBxdWVyeVN0cmluZyxcbiAgICAgICAgICAgICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgbGVmdCBvdXRlciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwidXNlclNldHRpbmdzXCIuXCJ1c2VyMklkXCIgPSBcIm90aGVyVXNlclwiLlwiaWRcIiBhbmQgXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXIySWRcIiA9IFwib3RoZXJVc2VyXCIuXCJuYW1lXCIgb3IgXCJ1c2VyU2V0dGluZ3NcIi5cInVzZXIySWRcIiA9IFwib3RoZXJVc2VyXCIuXCJzb21lVmFsdWVcIidcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBsZWZ0IG91dGVyIGpvaW4gd2l0aCBmdW5jdGlvbiB3aXRoIG90aGVyIHRhYmxlIHdpdGggb25WYWxcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwib3RoZXJVc2VyXCIsIFVzZXIsIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uVmFsKFwibmFtZVwiLCBcIj1cIiwgXCIxXCIpLmFuZE9uVmFsKFwibmFtZVwiLCBcIj1cIiwgXCIyXCIpLm9yT25WYWwoXCJuYW1lXCIsIFwiPVwiLCBcIjNcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlclNldHRpbmdzXCIgbGVmdCBvdXRlciBqb2luIFwidXNlcnNcIiBhcyBcIm90aGVyVXNlclwiIG9uIFwib3RoZXJVc2VyXCIuXCJuYW1lXCIgPSBcXCcxXFwnIGFuZCBcIm90aGVyVXNlclwiLlwibmFtZVwiID0gXFwnMlxcJyBvciBcIm90aGVyVXNlclwiLlwibmFtZVwiID0gXFwnM1xcJycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGJlIGFibGUgdG8gdXNlIGpvaW5lZCBjb2x1bW4gaW4gYW5vdGhlciBsZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXJTZXR0aW5nKVxuICAgICAgICAgICAgLmxlZnRPdXRlckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJldmlsVHdpblwiLCBVc2VyU2V0dGluZywgKGpvaW4pID0+IHtcbiAgICAgICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmxlZnRPdXRlckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJldmlsVHdpbjJcIiwgVXNlclNldHRpbmcsIChqb2luKSA9PiB7XG4gICAgICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcImV2aWxUd2luLmlkXCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLFxuICAgICAgICAgICAgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2VyU2V0dGluZ3NcIiBhcyBcImV2aWxUd2luXCIgb24gXCJ1c2VyU2V0dGluZ3NcIi5cImlkXCIgPSBcImV2aWxUd2luXCIuXCJpZFwiIGxlZnQgb3V0ZXIgam9pbiBcInVzZXJTZXR0aW5nc1wiIGFzIFwiZXZpbFR3aW4yXCIgb24gXCJldmlsVHdpblwiLlwiaWRcIiA9IFwiZXZpbFR3aW4yXCIuXCJpZFwiJ1xuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIGZ1bmN0aW9uIHdpdGggb3RoZXIgdGFibGUgd2l0aCBhbiBjb2x1bW4gYWxpYXNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSkubGVmdE91dGVySm9pblRhYmxlT25GdW5jdGlvbihcInNwZWNpYWxSZWdpb25cIiwgUmVnaW9uLCAoam9pbikgPT4ge1xuICAgICAgICAgICAgam9pbi5vbihcImlkXCIsIFwiPVwiLCBcInNwZWNpYWxSZWdpb25JZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyQ2F0ZWdvcmllc1wiIGxlZnQgb3V0ZXIgam9pbiBcInJlZ2lvbnNcIiBhcyBcInNwZWNpYWxSZWdpb25cIiBvbiBcInVzZXJDYXRlZ29yaWVzXCIuXCJJTlRFUk5BTF9OQU1FXCIgPSBcInNwZWNpYWxSZWdpb25cIi5cImlkXCInKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBzZWxlY3QgKiBmcm9tIFwidXNlcnNcIicsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS5saW1pdCgxMCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBsaW1pdCAxMCcpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJywgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLm9mZnNldCgxMCk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBvZmZzZXQgMTAnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBzZWxlY3QgKiBmcm9tIFwidXNlcnNcIicsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcbiAgICAgICAgcXVlcnkudXNlS25leFF1ZXJ5QnVpbGRlcigocXVlcnlCdWlsZGVyKSA9PiBxdWVyeUJ1aWxkZXIud2hlcmUoXCJzb21ldGhpbmdlbHNlXCIsIFwidmFsdWVcIikpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJzb21ldGhpbmdlbHNlXCIgPSBcXCd2YWx1ZVxcJycpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJlbW92ZU51bGxPYmplY3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGlkOiBcImlkXCIsXG4gICAgICAgICAgICBcImVsZW1lbnQuaWRcIjogbnVsbCxcbiAgICAgICAgICAgIFwiZWxlbWVudC5jYXRlZ29yeS5pZFwiOiBudWxsLFxuICAgICAgICAgICAgXCJ1bml0LmNhdGVnb3J5LmlkXCI6IG51bGwsXG4gICAgICAgICAgICBcImNhdGVnb3J5Lm5hbWVcIjogXCJjYXQgbmFtZVwiLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmbGF0dGVuZWQgPSB1bmZsYXR0ZW4oW3Jlc3VsdF0pO1xuICAgICAgICBhc3NlcnQuaXNOdWxsKGZsYXR0ZW5lZFswXS5lbGVtZW50LmlkKTtcbiAgICAgICAgYXNzZXJ0LmlzTnVsbChmbGF0dGVuZWRbMF0udW5pdC5jYXRlZ29yeS5pZCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChmbGF0dGVuZWRbMF0uY2F0ZWdvcnkubmFtZSwgXCJjYXQgbmFtZVwiKTtcbiAgICAgICAgY29uc3QgbnVsbGVkID0gc2V0VG9OdWxsKGZsYXR0ZW5lZCk7XG4gICAgICAgIGFzc2VydC5pc051bGwobnVsbGVkWzBdLmVsZW1lbnQpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobnVsbGVkWzBdLmNhdGVnb3J5Lm5hbWUsIFwiY2F0IG5hbWVcIik7XG4gICAgICAgIGFzc2VydC5pc051bGwobnVsbGVkWzBdLnVuaXQpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJldHVybiBzdWIgcXVlcnkgaW4gc2VsZWN0XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXJDYXRlZ29yeSlcbiAgICAgICAgICAgIC5zZWxlY3QoXCJpZFwiKVxuICAgICAgICAgICAgLnNlbGVjdFF1ZXJ5KFwidG90YWxcIiwgTnVtYmVyLCBVc2VyLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgICAgICBzdWJRdWVyeS5jb3VudChcImlkXCIsIFwidG90YWxcIikud2hlcmVDb2x1bW4oXCJjYXRlZ29yeUlkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBcInVzZXJDYXRlZ29yaWVzXCIuXCJpZFwiIGFzIFwiaWRcIiwgKHNlbGVjdCBjb3VudChcInVzZXJzXCIuXCJpZFwiKSBhcyBcInRvdGFsXCIgZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJ1c2Vyc1wiLlwiY2F0ZWdvcnlJZFwiID0gXCJ1c2VyQ2F0ZWdvcmllc1wiLlwiaWRcIikgYXMgXCJ0b3RhbFwiIGZyb20gXCJ1c2VyQ2F0ZWdvcmllc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGVmdCBvdXRlciBqb2luIHdpdGggZnVuY3Rpb24gd2l0aCBhbmQgaW4gb25cIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJTZXR0aW5nKS5sZWZ0T3V0ZXJKb2luVGFibGVPbkZ1bmN0aW9uKFwiZXZpbFR3aW5cIiwgVXNlclNldHRpbmcsIChqb2luKSA9PiB7XG4gICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgICAgICBqb2luLm9uKFwia2V5XCIsIFwiPVwiLCBcImtleVwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2VyU2V0dGluZ3NcIiBsZWZ0IG91dGVyIGpvaW4gXCJ1c2VyU2V0dGluZ3NcIiBhcyBcImV2aWxUd2luXCIgb24gXCJ1c2VyU2V0dGluZ3NcIi5cImlkXCIgPSBcImV2aWxUd2luXCIuXCJpZFwiIGFuZCBcInVzZXJTZXR0aW5nc1wiLlwia2V5XCIgPSBcImV2aWxUd2luXCIuXCJrZXlcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGxlZnQgb3V0ZXIgam9pbiB3aXRoIGZ1bmN0aW9uIGFuZCBzZWxlY3Rpb24gb2Ygam9pbmVkIHRhYmxlXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leFxuICAgICAgICAgICAgLnF1ZXJ5KFVzZXJTZXR0aW5nKVxuICAgICAgICAgICAgLmxlZnRPdXRlckpvaW5UYWJsZU9uRnVuY3Rpb24oXCJldmlsVHdpblwiLCBVc2VyU2V0dGluZywgKGpvaW4pID0+IHtcbiAgICAgICAgICAgICAgICBqb2luLm9uKFwiaWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZXJlKFwiZXZpbFR3aW4udmFsdWVcIiwgXCJ2YWx1ZVwiKVxuICAgICAgICAgICAgLnNlbGVjdChcImV2aWxUd2luLmtleVwiKTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAnc2VsZWN0IFwiZXZpbFR3aW5cIi5cImtleVwiIGFzIFwiZXZpbFR3aW4ua2V5XCIgZnJvbSBcInVzZXJTZXR0aW5nc1wiIGxlZnQgb3V0ZXIgam9pbiBcInVzZXJTZXR0aW5nc1wiIGFzIFwiZXZpbFR3aW5cIiBvbiBcInVzZXJTZXR0aW5nc1wiLlwiaWRcIiA9IFwiZXZpbFR3aW5cIi5cImlkXCIgd2hlcmUgXCJldmlsVHdpblwiLlwidmFsdWVcIiA9IFxcJ3ZhbHVlXFwnJ1xuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGdldCBuYW1lIG9mIHRoZSB0YWJsZVwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0YWJsZU5hbWUgPSBnZXRUYWJsZU5hbWUoVXNlcik7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKHRhYmxlTmFtZSwgXCJ1c2Vyc1wiKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBnZXQgbmFtZSBvZiB0aGUgY29sdW1uXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtbk5hbWUgPSBnZXRDb2x1bW5OYW1lKFVzZXIsIFwiaWRcIik7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNvbHVtbk5hbWUsIFwiaWRcIik7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5zZXJ0IGEgc2VsZWN0XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgayA9IGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pO1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGspO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHF1ZXJ5LnNlbGVjdFJhdyhcImZcIiwgU3RyaW5nLCBcIidmaXhlZFZhbHVlJ1wiKS5zZWxlY3QoXCJuYW1lXCIpLmRpc3RpbmN0KCkud2hlcmVOb3ROdWxsKFwibmFtZVwiKS5pbnNlcnRTZWxlY3QoVXNlclNldHRpbmcsIFwiaWRcIiwgXCJpbml0aWFsVmFsdWVcIik7XG4gICAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICAgICAgcXVlcnkudG9RdWVyeSgpLFxuICAgICAgICAgICAgICAgIGBpbnNlcnQgaW50byBcInVzZXJTZXR0aW5nc1wiIChcInVzZXJTZXR0aW5nc1wiLlwiaWRcIixcInVzZXJTZXR0aW5nc1wiLlwiaW5pdGlhbFZhbHVlXCIpIHNlbGVjdCBkaXN0aW5jdCAoJ2ZpeGVkVmFsdWUnKSBhcyBcImZcIiwgXCJ1c2Vyc1wiLlwibmFtZVwiIGFzIFwibmFtZVwiIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIFwidXNlcnNcIi5cIm5hbWVcIiBpcyBub3QgbnVsbGBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBxdWVyeSB3aXRoIG9yZGVyIGJ5IHJhd1wiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikub3JkZXJCeVJhdyhcIlNVTSg/PykgREVTQ1wiLCBcInVzZXJzLnllYXJcIik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIG9yZGVyIGJ5IFNVTShcInVzZXJzXCIuXCJ5ZWFyXCIpIERFU0MnKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgcXVlcnkgd2l0aCB3aGVyZSBpbiB3aXRoIHN1YnF1ZXJ5XCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS53aGVyZUV4aXN0cyhVc2VyU2V0dGluZywgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS53aGVyZUNvbHVtbihcInVzZXJJZFwiLCBcIj1cIiwgXCJpZFwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJTZXR0aW5nc1wiIGFzIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJTZXR0aW5nc1wiLlwidXNlcklkXCIgPSBcInVzZXJzXCIuXCJpZFwiKScpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBpbnNlcnQgcXVlcnkgd2l0aCByZXR1cm5pbmcgYWxsXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkuaW5zZXJ0SXRlbVdpdGhSZXR1cm5pbmcoeyBpZDogXCJuZXdJZFwiIH0pO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGBpbnNlcnQgaW50byBcInVzZXJzXCIgKFwiaWRcIikgdmFsdWVzICgnbmV3SWQnKSByZXR1cm5pbmcgKmApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIGluc2VydCBxdWVyeSB3aXRoIHJldHVybmluZyAxIGNvbHVtblwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5Lmluc2VydEl0ZW1XaXRoUmV0dXJuaW5nKHsgaWQ6IFwibmV3SWRcIiB9LCBbXCJzdGF0dXNcIl0pO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGBpbnNlcnQgaW50byBcInVzZXJzXCIgKFwiaWRcIikgdmFsdWVzICgnbmV3SWQnKSByZXR1cm5pbmcgXCJ1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcImApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIGluc2VydCBxdWVyeSB3aXRoIHJldHVybmluZyAyIGNvbHVtblwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5Lmluc2VydEl0ZW1XaXRoUmV0dXJuaW5nKHsgaWQ6IFwibmV3SWRcIiB9LCBbXCJzdGF0dXNcIiwgXCJpZFwiXSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYGluc2VydCBpbnRvIFwidXNlcnNcIiAoXCJpZFwiKSB2YWx1ZXMgKCduZXdJZCcpIHJldHVybmluZyBcInVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiLCBcInVzZXJzXCIuXCJpZFwiYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgaW5zZXJ0IHF1ZXJ5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkuaW5zZXJ0SXRlbSh7IGlkOiBcIm5ld0lkXCIgfSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYGluc2VydCBpbnRvIFwidXNlcnNcIiAoXCJpZFwiKSB2YWx1ZXMgKCduZXdJZCcpYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgaW5zZXJ0IHF1ZXJ5IHdpdGggY29sdW1uIG5hbWUgbWFwcGluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5Lmluc2VydEl0ZW0oeyBzdGF0dXM6IFwibmV3U3RhdHVzXCIgfSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYGluc2VydCBpbnRvIFwidXNlcnNcIiAoXCJ3ZWlyZERhdGFiYXNlTmFtZVwiKSB2YWx1ZXMgKCduZXdTdGF0dXMnKWApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIG11bHRpcGxlIGluc2VydCBxdWVyaWVzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkuaW5zZXJ0SXRlbXMoW3sgaWQ6IFwibmV3SWQxXCIgfSwgeyBpZDogXCJuZXdJZDJcIiB9XSk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKChxdWVyeSBhcyBhbnkpLnF1ZXJ5TG9nLnRyaW0oKSwgYGluc2VydCBpbnRvIFwidXNlcnNcIiAoXCJpZFwiKSB2YWx1ZXMgKCduZXdJZDEnKSwgKCduZXdJZDInKWApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIG11bHRpcGxlIGluc2VydCBxdWVyaWVzIHdpdGggY29sdW1uIG5hbWUgbWFwcGluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5Lmluc2VydEl0ZW1zKFt7IHN0YXR1czogXCJuZXdTdGF0dXMxXCIgfSwgeyBzdGF0dXM6IFwibmV3U3RhdHVzMlwiIH1dKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgaW5zZXJ0IGludG8gXCJ1c2Vyc1wiIChcIndlaXJkRGF0YWJhc2VOYW1lXCIpIHZhbHVlcyAoJ25ld1N0YXR1czEnKSwgKCduZXdTdGF0dXMyJylgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSB1cGRhdGUgcXVlcnlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS51cGRhdGVJdGVtKHsgaWQ6IFwibmV3SWRcIiB9KTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgdXBkYXRlIFwidXNlcnNcIiBzZXQgXCJpZFwiID0gJ25ld0lkJ2ApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHVwZGF0ZSBxdWVyeSB3aXRoIGNvbHVtbiBuYW1lIG1hcHBpbmdcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS51cGRhdGVJdGVtKHsgc3RhdHVzOiBcIm5ld1N0YXR1c1wiIH0pO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGB1cGRhdGUgXCJ1c2Vyc1wiIHNldCBcIndlaXJkRGF0YWJhc2VOYW1lXCIgPSAnbmV3U3RhdHVzJ2ApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIHVwZGF0ZSBxdWVyeSBieSBpZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LnVwZGF0ZUl0ZW1CeVByaW1hcnlLZXkoXCJ1c2VySWRcIiwgeyBuYW1lOiBcIm5ld05hbWVcIiB9KTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgdXBkYXRlIFwidXNlcnNcIiBzZXQgXCJuYW1lXCIgPSAnbmV3TmFtZScgd2hlcmUgXCJpZFwiID0gJ3VzZXJJZCdgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSB1cGRhdGUgcXVlcnkgYnkgaWQgd2l0aCBjb2x1bW4gbmFtZSBtYXBwaW5nXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkudXBkYXRlSXRlbUJ5UHJpbWFyeUtleShcInVzZXJJZFwiLCB7IHN0YXR1czogXCJuZXdTdGF0dXNcIiB9KTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgdXBkYXRlIFwidXNlcnNcIiBzZXQgXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gJ25ld1N0YXR1cycgd2hlcmUgXCJpZFwiID0gJ3VzZXJJZCdgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNyZWF0ZSBtdWx0aXBsZSB1cGRhdGUgcXVlcmllcyBieSBpZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LnVwZGF0ZUl0ZW1zQnlQcmltYXJ5S2V5KFtcbiAgICAgICAgICAgIHsgcHJpbWFyeUtleVZhbHVlOiBcInVzZXJJZDFcIiwgZGF0YTogeyBuYW1lOiBcIm5ld05hbWUxXCIgfSB9LFxuICAgICAgICAgICAgeyBwcmltYXJ5S2V5VmFsdWU6IFwidXNlcklkMlwiLCBkYXRhOiB7IG5hbWU6IFwibmV3TmFtZTJcIiB9IH0sXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGFzc2VydC5lcXVhbCgocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksIGB1cGRhdGUgXCJ1c2Vyc1wiIHNldCBcIm5hbWVcIiA9ICduZXdOYW1lMScgd2hlcmUgXCJpZFwiID0gJ3VzZXJJZDEnO1xcbnVwZGF0ZSBcInVzZXJzXCIgc2V0IFwibmFtZVwiID0gJ25ld05hbWUyJyB3aGVyZSBcImlkXCIgPSAndXNlcklkMic7YCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBjcmVhdGUgbXVsdGlwbGUgdXBkYXRlIHF1ZXJpZXMgYnkgaWQgd2l0aCBjb2x1bW4gbmFtZSBtYXBwaW5nXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkudXBkYXRlSXRlbXNCeVByaW1hcnlLZXkoW1xuICAgICAgICAgICAgeyBwcmltYXJ5S2V5VmFsdWU6IFwidXNlcklkMVwiLCBkYXRhOiB7IHN0YXR1czogXCJuZXdTdGF0dXMxXCIgfSB9LFxuICAgICAgICAgICAgeyBwcmltYXJ5S2V5VmFsdWU6IFwidXNlcklkMlwiLCBkYXRhOiB7IHN0YXR1czogXCJuZXdTdGF0dXMyXCIgfSB9LFxuICAgICAgICBdKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgdXBkYXRlIFwidXNlcnNcIiBzZXQgXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gJ25ld1N0YXR1czEnIHdoZXJlIFwiaWRcIiA9ICd1c2VySWQxJztcXG51cGRhdGUgXCJ1c2Vyc1wiIHNldCBcIndlaXJkRGF0YWJhc2VOYW1lXCIgPSAnbmV3U3RhdHVzMicgd2hlcmUgXCJpZFwiID0gJ3VzZXJJZDInO2ApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIGZpbmRCeVByaW1hcnlLZXkgcXVlcnlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5maW5kQnlQcmltYXJ5S2V5KFwiMVwiLCBcImlkXCIsIFwibmFtZVwiKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLCBgc2VsZWN0IFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiLCBcInVzZXJzXCIuXCJuYW1lXCIgYXMgXCJuYW1lXCIgZnJvbSBcInVzZXJzXCIgd2hlcmUgXCJpZFwiID0gJzEnYCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBzZWxlY3QgKiB3aGVuIHF1ZXJ5YnVpbGRlciBoYXMgbm8gc2VsZWN0IHNwZWNpZmllZFwiLCAoZG9uZSkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcik7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiJyk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJnZXRNYW55IHNob3VsZCBzZWxlY3QgYWxsIGNvbHVtbnMgb2Ygcm9vdCB0eXBlIHdpdGggY29ycmVjdCBhbGlhc2VzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSk7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5nZXRNYW55KCk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLFxuICAgICAgICAgICAgYHNlbGVjdCBcImlkXCIgYXMgXCJpZFwiLCBcIm5hbWVcIiBhcyBcIm5hbWVcIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvbklkXCIsIFwieWVhclwiIGFzIFwieWVhclwiLCBcInBob25lTnVtYmVyXCIgYXMgXCJwaG9uZU51bWJlclwiLCBcImJhY2t1cFJlZ2lvbklkXCIgYXMgXCJiYWNrdXBSZWdpb25cIiwgXCJJTlRFUk5BTF9OQU1FXCIgYXMgXCJzcGVjaWFsUmVnaW9uSWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcImBcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwiZ2V0Rmlyc3Qgc2hvdWxkIHNlbGVjdCBhbGwgY29sdW1ucyBvZiByb290IHR5cGUgd2l0aCBjb3JyZWN0IGFsaWFzZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LmdldEZpcnN0KCk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLFxuICAgICAgICAgICAgYHNlbGVjdCBcImlkXCIgYXMgXCJpZFwiLCBcIm5hbWVcIiBhcyBcIm5hbWVcIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvbklkXCIsIFwieWVhclwiIGFzIFwieWVhclwiLCBcInBob25lTnVtYmVyXCIgYXMgXCJwaG9uZU51bWJlclwiLCBcImJhY2t1cFJlZ2lvbklkXCIgYXMgXCJiYWNrdXBSZWdpb25cIiwgXCJJTlRFUk5BTF9OQU1FXCIgYXMgXCJzcGVjaWFsUmVnaW9uSWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcImBcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwiZ2V0Rmlyc3RPck51bGwgc2hvdWxkIHNlbGVjdCBhbGwgY29sdW1ucyBvZiByb290IHR5cGUgd2l0aCBjb3JyZWN0IGFsaWFzZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGF3YWl0IHF1ZXJ5LmdldEZpcnN0T3JOdWxsKCk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLFxuICAgICAgICAgICAgYHNlbGVjdCBcImlkXCIgYXMgXCJpZFwiLCBcIm5hbWVcIiBhcyBcIm5hbWVcIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvbklkXCIsIFwieWVhclwiIGFzIFwieWVhclwiLCBcInBob25lTnVtYmVyXCIgYXMgXCJwaG9uZU51bWJlclwiLCBcImJhY2t1cFJlZ2lvbklkXCIgYXMgXCJiYWNrdXBSZWdpb25cIiwgXCJJTlRFUk5BTF9OQU1FXCIgYXMgXCJzcGVjaWFsUmVnaW9uSWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcImBcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwiZ2V0U2luZ2xlIHNob3VsZCBzZWxlY3QgYWxsIGNvbHVtbnMgb2Ygcm9vdCB0eXBlIHdpdGggY29ycmVjdCBhbGlhc2VzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgICh0eXBlZEtuZXggYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSk7XG5cbiAgICAgICAgKHF1ZXJ5IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBhd2FpdCBxdWVyeS5nZXRTaW5nbGUoKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICAocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksXG4gICAgICAgICAgICBgc2VsZWN0IFwiaWRcIiBhcyBcImlkXCIsIFwibmFtZVwiIGFzIFwibmFtZVwiLCBcInJlZ2lvbklkXCIgYXMgXCJyZWdpb25cIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uSWRcIiwgXCJ5ZWFyXCIgYXMgXCJ5ZWFyXCIsIFwicGhvbmVOdW1iZXJcIiBhcyBcInBob25lTnVtYmVyXCIsIFwiYmFja3VwUmVnaW9uSWRcIiBhcyBcImJhY2t1cFJlZ2lvblwiLCBcIklOVEVSTkFMX05BTUVcIiBhcyBcInNwZWNpYWxSZWdpb25JZFwiIGZyb20gXCJ1c2VyQ2F0ZWdvcmllc1wiYFxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJnZXRTaW5nbGVPck51bGwgc2hvdWxkIHNlbGVjdCBhbGwgY29sdW1ucyBvZiByb290IHR5cGUgd2l0aCBjb3JyZWN0IGFsaWFzZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcbiAgICAgICAgKHR5cGVkS25leCBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcblxuICAgICAgICAocXVlcnkgYXMgYW55KS5vbmx5TG9nUXVlcnkgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IGEgPSBhd2FpdCBxdWVyeS5nZXRTaW5nbGVPck51bGwoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJhXCIsIGE/LmlkKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICAocXVlcnkgYXMgYW55KS5xdWVyeUxvZy50cmltKCksXG4gICAgICAgICAgICBgc2VsZWN0IFwiaWRcIiBhcyBcImlkXCIsIFwibmFtZVwiIGFzIFwibmFtZVwiLCBcInJlZ2lvbklkXCIgYXMgXCJyZWdpb25cIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uSWRcIiwgXCJ5ZWFyXCIgYXMgXCJ5ZWFyXCIsIFwicGhvbmVOdW1iZXJcIiBhcyBcInBob25lTnVtYmVyXCIsIFwiYmFja3VwUmVnaW9uSWRcIiBhcyBcImJhY2t1cFJlZ2lvblwiLCBcIklOVEVSTkFMX05BTUVcIiBhcyBcInNwZWNpYWxSZWdpb25JZFwiIGZyb20gXCJ1c2VyQ2F0ZWdvcmllc1wiYFxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIHdoZXJlIGV4aXN0cyBvbiBzYW1lIHRhYmxlIGFzIG1haW4gdGFibGVcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLndoZXJlRXhpc3RzKFVzZXIsIChzdWJRdWVyeSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVDb2x1bW4oXCJzdGF0dXNcIiwgXCI9XCIsIFwic3RhdHVzXCIpLndoZXJlQ29sdW1uKFwiaWRcIiwgXCI8PlwiLCBcImlkXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICBgc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBhcyBcInN1YnF1ZXJ5MCR1c2Vyc1wiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gXCJ1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiBhbmQgXCJzdWJxdWVyeTAkdXNlcnNcIi5cImlkXCIgPD4gXCJ1c2Vyc1wiLlwiaWRcIilgXG4gICAgICAgICk7XG5cbiAgICAgICAgZG9uZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIHR3byBsZXZlbHMgb2Ygd2hlcmUgZXhpc3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKS53aGVyZUV4aXN0cyhVc2VyLCAoc3ViUXVlcnkpID0+IHtcbiAgICAgICAgICAgIHN1YlF1ZXJ5LndoZXJlQ29sdW1uKFwic3RhdHVzXCIsIFwiPVwiLCBcInN0YXR1c1wiKS53aGVyZUNvbHVtbihcImlkXCIsIFwiPD5cIiwgXCJpZFwiKTtcblxuICAgICAgICAgICAgc3ViUXVlcnkud2hlcmVFeGlzdHMoVXNlciwgKHN1YlF1ZXJ5MikgPT4ge1xuICAgICAgICAgICAgICAgIHN1YlF1ZXJ5Mi53aGVyZUNvbHVtbihcInN0YXR1c1wiLCBcIj1cIiwgXCJzdGF0dXNcIikud2hlcmVDb2x1bW4oXCJpZFwiLCBcIjw+XCIsIFwiaWRcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLFxuICAgICAgICAgICAgYHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgYXMgXCJzdWJxdWVyeTAkdXNlcnNcIiB3aGVyZSBcInN1YnF1ZXJ5MCR1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwidXNlcnNcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgYW5kIFwic3VicXVlcnkwJHVzZXJzXCIuXCJpZFwiIDw+IFwidXNlcnNcIi5cImlkXCIgYW5kIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgYXMgXCJzdWJxdWVyeTAkc3VicXVlcnkwJHVzZXJzXCIgd2hlcmUgXCJzdWJxdWVyeTAkc3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gXCJzdWJxdWVyeTAkdXNlcnNcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgYW5kIFwic3VicXVlcnkwJHN1YnF1ZXJ5MCR1c2Vyc1wiLlwiaWRcIiA8PiBcInN1YnF1ZXJ5MCR1c2Vyc1wiLlwiaWRcIikpYFxuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcbiAgICBpdChcImdldFNpbmdsZU9yTnVsbCBzaG91bGQgc2VsZWN0IGFsbCBjb2x1bW5zIG9mIHJvb3QgdHlwZSB3aXRoIGNvcnJlY3QgYWxpYXNlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICAodHlwZWRLbmV4IGFzIGFueSkub25seUxvZ1F1ZXJ5ID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpO1xuXG4gICAgICAgIChxdWVyeSBhcyBhbnkpLm9ubHlMb2dRdWVyeSA9IHRydWU7XG5cbiAgICAgICAgYXdhaXQgcXVlcnkuZ2V0U2luZ2xlT3JOdWxsKCk7XG5cbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgKHF1ZXJ5IGFzIGFueSkucXVlcnlMb2cudHJpbSgpLFxuICAgICAgICAgICAgYHNlbGVjdCBcImlkXCIgYXMgXCJpZFwiLCBcIm5hbWVcIiBhcyBcIm5hbWVcIiwgXCJyZWdpb25JZFwiIGFzIFwicmVnaW9uXCIsIFwicmVnaW9uSWRcIiBhcyBcInJlZ2lvbklkXCIsIFwieWVhclwiIGFzIFwieWVhclwiLCBcInBob25lTnVtYmVyXCIgYXMgXCJwaG9uZU51bWJlclwiLCBcImJhY2t1cFJlZ2lvbklkXCIgYXMgXCJiYWNrdXBSZWdpb25cIiwgXCJJTlRFUk5BTF9OQU1FXCIgYXMgXCJzcGVjaWFsUmVnaW9uSWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcImBcbiAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGdldCBjb3JyZWN0IGNvbHVtbiBmb3IgbmVzdGVkIHF1ZXJpZXNcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgY29uc3QgdHlwZWRLbmV4ID0gbmV3IFR5cGVkS25leChrbmV4KHsgY2xpZW50OiBcInBvc3RncmVzcWxcIiB9KSk7XG4gICAgICAgIGxldCBuZXN0ZWRTdGF0dXNDb2x1bW5OYW1lO1xuICAgICAgICBsZXQgbmVzdGVkVXNlckNhdGVnb3J5WWVhcjtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlcikud2hlcmVFeGlzdHMoVXNlciwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS5pbm5lckpvaW5Db2x1bW4oXCJjYXRlZ29yeVwiKS5zZWxlY3QoXCJjYXRlZ29yeS5pZFwiKS5zZWxlY3QoXCJzdGF0dXNcIik7XG5cbiAgICAgICAgICAgIG5lc3RlZFN0YXR1c0NvbHVtbk5hbWUgPSBzdWJRdWVyeS5nZXRDb2x1bW5BbGlhcyhcInN0YXR1c1wiKTtcbiAgICAgICAgICAgIG5lc3RlZFVzZXJDYXRlZ29yeVllYXIgPSBzdWJRdWVyeS5nZXRDb2x1bW5BbGlhcyhcImNhdGVnb3J5LnllYXJcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHF1ZXJ5LnRvUXVlcnkoKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwobmVzdGVkU3RhdHVzQ29sdW1uTmFtZSwgJ1wic3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiJyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChuZXN0ZWRVc2VyQ2F0ZWdvcnlZZWFyLCAnXCJzdWJxdWVyeTAkY2F0ZWdvcnlcIi5cInllYXJcIicpO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGJlIGFibGUgdG8gcmVmZXIgdG8gbWFpbiBxdWVyeSBpbiByYXcgd2hlcmUgZXhpc3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcbiAgICAgICAgcXVlcnkud2hlcmVFeGlzdHMoVXNlciwgKHN1YlF1ZXJ5KSA9PiB7XG4gICAgICAgICAgICBzdWJRdWVyeS53aGVyZUNvbHVtbihcInN0YXR1c1wiLCBcIj1cIiwgXCJzdGF0dXNcIikud2hlcmVDb2x1bW4oXCJpZFwiLCBcIjw+XCIsIFwiaWRcIikud2hlcmVSYXcoYEVYSVNUUyAoU0VMRUNUIDEgRlJPTSB1c2VycyBhcyB1c2VyczIgV0hFUkUgJHtxdWVyeS5nZXRDb2x1bW5BbGlhcyhcbiAgICAgICAgICAgICAgICBcInN0YXR1c1wiXG4gICAgICAgICAgICApfSA9IHVzZXJzMi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgQU5EICR7cXVlcnkuZ2V0Q29sdW1uQWxpYXMoXCJpZFwiKX0gPD4gdXNlcnMyLlwiaWRcIilcbiAgICAgICAgICAgIGApO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFxuICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICBgc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgd2hlcmUgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBhcyBcInN1YnF1ZXJ5MCR1c2Vyc1wiIHdoZXJlIFwic3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gXCJ1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiBhbmQgXCJzdWJxdWVyeTAkdXNlcnNcIi5cImlkXCIgPD4gXCJ1c2Vyc1wiLlwiaWRcIiBhbmQgRVhJU1RTIChTRUxFQ1QgMSBGUk9NIHVzZXJzIGFzIHVzZXJzMiBXSEVSRSBcInVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gdXNlcnMyLlwid2VpcmREYXRhYmFzZU5hbWVcIiBBTkQgXCJ1c2Vyc1wiLlwiaWRcIiA8PiB1c2VyczIuXCJpZFwiKVxuICAgICAgICAgICAgKWBcbiAgICAgICAgKTtcblxuICAgICAgICBkb25lKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBiZSBhYmxlIHRvIHJlZmVyIHRvIG1haW4gcXVlcnkgaW4gd2hlcmUgZXhpc3RzXCIsIChkb25lKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyKTtcbiAgICAgICAgcXVlcnkud2hlcmVFeGlzdHMoVXNlciwgKHN1YlF1ZXJ5MSkgPT4ge1xuICAgICAgICAgICAgc3ViUXVlcnkxLndoZXJlQ29sdW1uKFwic3RhdHVzXCIsIFwiPVwiLCBcInN0YXR1c1wiKTsgLy8gQ29tcGFyZXMgc3ViUXVlcnkxIHdpdGggaXRzIHBhcmVudCAocXVlcnkpXG5cbiAgICAgICAgICAgIHN1YlF1ZXJ5MS53aGVyZUV4aXN0cyhVc2VyLCAoc3ViUXVlcnkyKSA9PiB7XG4gICAgICAgICAgICAgICAgc3ViUXVlcnkyLndoZXJlQ29sdW1uKHN1YlF1ZXJ5Mi5nZXRDb2x1bW4oXCJzdGF0dXNcIiksIFwiPVwiLCBxdWVyeS5nZXRDb2x1bW4oXCJzdGF0dXNcIikpOyAvLyBDb21wYXJlcyBzdWJRdWVyeTIgd2l0aCB0aGUgZmlyc3QgcGFyZW50IChxdWVyeSlcblxuICAgICAgICAgICAgICAgIHN1YlF1ZXJ5Mi53aGVyZUV4aXN0cyhVc2VyLCAoc3ViUXVlcnkzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlF1ZXJ5My53aGVyZUNvbHVtbihzdWJRdWVyeTMuZ2V0Q29sdW1uKFwic3RhdHVzXCIpLCBcIj1cIiwgc3ViUXVlcnkxLmdldENvbHVtbihcInN0YXR1c1wiKSk7IC8vIENvbXBhcmVzIHN1YlF1ZXJ5MyB3aXRoIHRoZSBzZWNvbmQgcGFyZW50IChzdWJRdWVyeTEpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLFxuICAgICAgICAgICAgYHNlbGVjdCAqIGZyb20gXCJ1c2Vyc1wiIHdoZXJlIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgYXMgXCJzdWJxdWVyeTAkdXNlcnNcIiB3aGVyZSBcInN1YnF1ZXJ5MCR1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwidXNlcnNcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCIgYW5kIGV4aXN0cyAoc2VsZWN0ICogZnJvbSBcInVzZXJzXCIgYXMgXCJzdWJxdWVyeTAkc3VicXVlcnkwJHVzZXJzXCIgd2hlcmUgXCJzdWJxdWVyeTAkc3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiID0gXCJ1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiBhbmQgZXhpc3RzIChzZWxlY3QgKiBmcm9tIFwidXNlcnNcIiBhcyBcInN1YnF1ZXJ5MCRzdWJxdWVyeTAkc3VicXVlcnkwJHVzZXJzXCIgd2hlcmUgXCJzdWJxdWVyeTAkc3VicXVlcnkwJHN1YnF1ZXJ5MCR1c2Vyc1wiLlwid2VpcmREYXRhYmFzZU5hbWVcIiA9IFwic3VicXVlcnkwJHVzZXJzXCIuXCJ3ZWlyZERhdGFiYXNlTmFtZVwiKSkpYFxuICAgICAgICApO1xuXG4gICAgICAgIGRvbmUoKTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZ2V0Q29sdW1uQWxpYXNcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCB0eXBlZEtuZXggPSBuZXcgVHlwZWRLbmV4KGtuZXgoeyBjbGllbnQ6IFwicG9zdGdyZXNxbFwiIH0pKTtcblxuICAgICAgICBpdChcInNob3VsZCByZXR1cm4gcm9vdCBjb2x1bW4gbmFtZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5LmdldENvbHVtbkFsaWFzKFwiaWRcIiksICdcInVzZXJDYXRlZ29yaWVzXCIuXCJpZFwiJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiByb290IGNvbHVtbiBuYW1lIHdpdGggbWFwcGVkIG5hbWVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChxdWVyeS5nZXRDb2x1bW5BbGlhcyhcInNwZWNpYWxSZWdpb25JZFwiKSwgJ1widXNlckNhdGVnb3JpZXNcIi5cIklOVEVSTkFMX05BTUVcIicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCByZXR1cm4gbmFtZWQgam9pbmVkIGNvbHVtbiBuYW1lXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSkuaW5uZXJKb2luKFwidXNlclwiLCBVc2VyLCBcImNhdGVnb3J5SWRcIiwgXCI9XCIsIFwiaWRcIik7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnkuZ2V0Q29sdW1uQWxpYXMoXCJ1c2VyLmlkXCIpLCAnXCJ1c2VyXCIuXCJpZFwiJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIHJldHVybiBuYW1lZCBqb2luZWQgY29sdW1uIG5hbWUgd2l0aCBtYXBwZWQgbmFtZVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpLmlubmVySm9pbihcInVzZXJcIiwgVXNlciwgXCJjYXRlZ29yeUlkXCIsIFwiPVwiLCBcImlkXCIpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5LmdldENvbHVtbkFsaWFzKFwidXNlci5zdGF0dXNcIiksICdcInVzZXJcIi5cIndlaXJkRGF0YWJhc2VOYW1lXCInKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgcmV0dXJuIHR3byBsZXZlbHMgam9pbmVkIGNvbHVtbiBuYW1lXCIsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmlubmVySm9pbkNvbHVtbihcImNhdGVnb3J5XCIpLmlubmVySm9pbkNvbHVtbihcImNhdGVnb3J5LnJlZ2lvblwiKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChxdWVyeS5nZXRDb2x1bW5BbGlhcyhcImNhdGVnb3J5LnJlZ2lvbi5jb2RlXCIpLCAnXCJjYXRlZ29yeV9yZWdpb25cIi5cImNvZGVcIicpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCByZXR1cm4gc2VsZWN0IHdpdGggYWxpYXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSB0eXBlZEtuZXgucXVlcnkoVXNlckNhdGVnb3J5KTtcbiAgICAgICAgICAgIHF1ZXJ5LnNlbGVjdFJhdyhcImhhc2hcIiwgU3RyaW5nLCBgaGFzaEZ1bmN0aW9uKCR7cXVlcnkuZ2V0Q29sdW1uQWxpYXMoXCJuYW1lXCIpfSlgKS5zZWxlY3QoXCJpZFwiKTtcblxuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG5cbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCAoaGFzaEZ1bmN0aW9uKFwidXNlckNhdGVnb3JpZXNcIi5cIm5hbWVcIikpIGFzIFwiaGFzaFwiLCBcInVzZXJDYXRlZ29yaWVzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcIicpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKFwiZGlzdGluY3RPblwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGVkS25leCA9IG5ldyBUeXBlZEtuZXgoa25leCh7IGNsaWVudDogXCJwb3N0Z3Jlc3FsXCIgfSkpO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGRpc3RpbmN0IG9uIDEgY29sdW1uXCIsIChkb25lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpLnNlbGVjdChcImlkXCIpLmRpc3RpbmN0T24oW1wibmFtZVwiXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gcXVlcnkudG9RdWVyeSgpO1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKHF1ZXJ5U3RyaW5nLCAnc2VsZWN0IGRpc3RpbmN0IG9uIChcInVzZXJDYXRlZ29yaWVzXCIuXCJuYW1lXCIpIFwidXNlckNhdGVnb3JpZXNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2VyQ2F0ZWdvcmllc1wiJyk7XG5cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJzaG91bGQgZGlzdGluY3Qgb24gMiBjb2x1bW5zXCIsIChkb25lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IHR5cGVkS25leC5xdWVyeShVc2VyQ2F0ZWdvcnkpLnNlbGVjdChcImlkXCIpLmRpc3RpbmN0T24oW1wibmFtZVwiLCBcInBob25lTnVtYmVyXCJdKTtcblxuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwocXVlcnlTdHJpbmcsICdzZWxlY3QgZGlzdGluY3Qgb24gKFwidXNlckNhdGVnb3JpZXNcIi5cIm5hbWVcIiwgXCJ1c2VyQ2F0ZWdvcmllc1wiLlwicGhvbmVOdW1iZXJcIikgXCJ1c2VyQ2F0ZWdvcmllc1wiLlwiaWRcIiBhcyBcImlkXCIgZnJvbSBcInVzZXJDYXRlZ29yaWVzXCInKTtcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdChcInNob3VsZCBkaXN0aW5jdCBvbiAxIGNvbHVtbiB3aXRoIG1hcHBpbmdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXJDYXRlZ29yeSkuc2VsZWN0KFwiaWRcIikuZGlzdGluY3RPbihbXCJzcGVjaWFsUmVnaW9uSWRcIl0pO1xuXG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IHF1ZXJ5LnRvUXVlcnkoKTtcbiAgICAgICAgICAgIGFzc2VydC5lcXVhbChxdWVyeVN0cmluZywgJ3NlbGVjdCBkaXN0aW5jdCBvbiAoXCJ1c2VyQ2F0ZWdvcmllc1wiLlwiSU5URVJOQUxfTkFNRVwiKSBcInVzZXJDYXRlZ29yaWVzXCIuXCJpZFwiIGFzIFwiaWRcIiBmcm9tIFwidXNlckNhdGVnb3JpZXNcIicpO1xuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KFwic2hvdWxkIGRpc3RpbmN0IG9uIGNvbHVtbnMgd2l0aCBqb2luIGFuZCB3aXRoIG1hcHBpbmdcIiwgKGRvbmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdHlwZWRLbmV4LnF1ZXJ5KFVzZXIpLmlubmVySm9pbihcImNhdGVnb3J5XCIsIFVzZXJDYXRlZ29yeSwgXCJpZFwiLCBcIj1cIiwgXCJjYXRlZ29yeUlkXCIpLnNlbGVjdChcImlkXCIpLmRpc3RpbmN0T24oW1wibmFtZVwiLCBcImNhdGVnb3J5LmlkXCIsIFwiY2F0ZWdvcnkuc3BlY2lhbFJlZ2lvbklkXCJdKTtcblxuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSBxdWVyeS50b1F1ZXJ5KCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwoXG4gICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcsXG4gICAgICAgICAgICAgICAgJ3NlbGVjdCBkaXN0aW5jdCBvbiAoXCJ1c2Vyc1wiLlwibmFtZVwiLCBcImNhdGVnb3J5XCIuXCJpZFwiLCBcImNhdGVnb3J5XCIuXCJJTlRFUk5BTF9OQU1FXCIpIFwidXNlcnNcIi5cImlkXCIgYXMgXCJpZFwiIGZyb20gXCJ1c2Vyc1wiIGlubmVyIGpvaW4gXCJ1c2VyQ2F0ZWdvcmllc1wiIGFzIFwiY2F0ZWdvcnlcIiBvbiBcImNhdGVnb3J5XCIuXCJpZFwiID0gXCJ1c2Vyc1wiLlwiY2F0ZWdvcnlJZFwiJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuIl19